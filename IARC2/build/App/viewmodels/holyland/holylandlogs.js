define(["services/utilities","services/httpService"],function(t,n){var e=require("viewmodels/shell"),a=ko.observableArray(),r=ko.observableArray(),g=ko.observableArray(),o=ko.observable();this.getlogs=function(){n.get("Server/hl_2015.php?d="+Date.now()).done(function(t){a(t),r(Enumerable.From(a()).Count()),g(Enumerable.From(a()).Select("$.country").Distinct().Count())}).error(t.handleError)},this.getCount=function(){n.get("Server/hl2015_count.php?d="+Date.now()).done(function(t){r(t)}).error(t.handleError)};var l={activate:function(){e.selectedSubMenu("holylandlogs"),e.selectedMainMenu("holyland"),o.subscribe(function(n){void 0!==n&&t.applyRowSearch("#dataTable tbody tr",n)}),getlogs(),o("")},compositionComplete:function(){},logs:a,counter:r,DXCCcounter:g,searchInput:o,year:moment()._d.getUTCFullYear()};return l});