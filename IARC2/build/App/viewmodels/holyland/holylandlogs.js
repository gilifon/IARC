define(["services/utilities","services/httpService"],function(t,e){var n=require("viewmodels/shell"),a=ko.observableArray(),r=ko.observableArray(),g=ko.observableArray(),o=ko.observable();this.getlogs=function(){e.get("Server/hl_2015.php?d="+Date.now()).done(function(t){a(t),r(Enumerable.From(a()).Count()),g(Enumerable.From(a()).Select("$.country").Distinct().Count())}).error(t.handleError)},this.getCount=function(){e.get("Server/hl2015_count.php?d="+Date.now()).done(function(t){r(t)}).error(t.handleError)};var l={activate:function(){n.selectedSubMenu("holylandlogs"),n.selectedMainMenu("holyland"),o.subscribe(function(e){void 0!==e&&t.applyRowSearch("#dataTable tbody tr",e)}),getlogs(),o("")},compositionComplete:function(){},logs:a,counter:r,DXCCcounter:g,searchInput:o,year:moment()._d.getUTCFullYear()};return l});