define(["services/holylandUtility"],function(e){require("viewmodels/shell");var t=function(t){var n=t.coords.latitude,a=t.coords.longitude,r=new google.maps.LatLng(n,a),o={center:new google.maps.LatLng(32.01258834091205,34.816575050354004),zoom:12},l=new google.maps.Map(document.getElementById("map-canvas"),o);new google.maps.Marker({position:r,map:l,title:"Good Luck in Holyland Contest!"});var g=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON]}});g.setMap(l),google.maps.event.addListener(g,"polygoncomplete",function(e){var t=e.getPath().getArray();console.log(t);for(var n=0;n<t.length;n++)console.log("lat:"+t[n].lat()+" lng: "+t[n].lng())}),ko.utils.arrayForEach(e.Areas(),function(e){e.poly.setMap(l)})},n=function(n){t(n);var a=e.getAreaByPosition(n);$("#square").html(a)},a={compositionComplete:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(n):x.innerHTML="Geolocation is not supported by this browser."}};return a});