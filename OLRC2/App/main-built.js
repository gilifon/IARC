(function () {/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
//Going sloppy to avoid 'use strict' string cost, but strict practices should
//be followed.
/*jslint sloppy: true */
/*global setTimeout: false */

var requirejs, require, define;
(function (undef) {
    var main, req, makeMap, handlers,
        defined = {},
        waiting = {},
        config = {},
        defining = {},
        hasOwn = Object.prototype.hasOwnProperty,
        aps = [].slice;

    function hasProp(obj, prop) {
        return hasOwn.call(obj, prop);
    }

    /**
     * Given a relative module name, like ./something, normalize it to
     * a real name that can be mapped to a path.
     * @param {String} name the relative name
     * @param {String} baseName a real name that the name arg is relative
     * to.
     * @returns {String} normalized name
     */
    function normalize(name, baseName) {
        var nameParts, nameSegment, mapValue, foundMap,
            foundI, foundStarMap, starI, i, j, part,
            baseParts = baseName && baseName.split("/"),
            map = config.map,
            starMap = (map && map['*']) || {};

        //Adjust any relative paths.
        if (name && name.charAt(0) === ".") {
            //If have a base name, try to normalize against it,
            //otherwise, assume it is a top-level require that will
            //be relative to baseUrl in the end.
            if (baseName) {
                //Convert baseName to array, and lop off the last part,
                //so that . matches that "directory" and not name of the baseName's
                //module. For instance, baseName of "one/two/three", maps to
                //"one/two/three.js", but we want the directory, "one/two" for
                //this normalization.
                baseParts = baseParts.slice(0, baseParts.length - 1);

                name = baseParts.concat(name.split("/"));

                //start trimDots
                for (i = 0; i < name.length; i += 1) {
                    part = name[i];
                    if (part === ".") {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (part === "..") {
                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                            //End of the line. Keep at least one non-dot
                            //path segment at the front so it can be mapped
                            //correctly to disk. Otherwise, there is likely
                            //no path mapping for a path starting with '..'.
                            //This can still fail, but catches the most reasonable
                            //uses of ..
                            break;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                //end trimDots

                name = name.join("/");
            } else if (name.indexOf('./') === 0) {
                // No baseName, so this is ID is resolved relative
                // to baseUrl, pull off the leading dot.
                name = name.substring(2);
            }
        }

        //Apply map config if available.
        if ((baseParts || starMap) && map) {
            nameParts = name.split('/');

            for (i = nameParts.length; i > 0; i -= 1) {
                nameSegment = nameParts.slice(0, i).join("/");

                if (baseParts) {
                    //Find the longest baseName segment match in the config.
                    //So, do joins on the biggest to smallest lengths of baseParts.
                    for (j = baseParts.length; j > 0; j -= 1) {
                        mapValue = map[baseParts.slice(0, j).join('/')];

                        //baseName segment has  config, find if it has one for
                        //this name.
                        if (mapValue) {
                            mapValue = mapValue[nameSegment];
                            if (mapValue) {
                                //Match, update name to the new value.
                                foundMap = mapValue;
                                foundI = i;
                                break;
                            }
                        }
                    }
                }

                if (foundMap) {
                    break;
                }

                //Check for a star map match, but just hold on to it,
                //if there is a shorter segment match later in a matching
                //config, then favor over this star map.
                if (!foundStarMap && starMap && starMap[nameSegment]) {
                    foundStarMap = starMap[nameSegment];
                    starI = i;
                }
            }

            if (!foundMap && foundStarMap) {
                foundMap = foundStarMap;
                foundI = starI;
            }

            if (foundMap) {
                nameParts.splice(0, foundI, foundMap);
                name = nameParts.join('/');
            }
        }

        return name;
    }

    function makeRequire(relName, forceSync) {
        return function () {
            //A version of a require function that passes a moduleName
            //value for items that may need to
            //look up paths relative to the moduleName
            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));
        };
    }

    function makeNormalize(relName) {
        return function (name) {
            return normalize(name, relName);
        };
    }

    function makeLoad(depName) {
        return function (value) {
            defined[depName] = value;
        };
    }

    function callDep(name) {
        if (hasProp(waiting, name)) {
            var args = waiting[name];
            delete waiting[name];
            defining[name] = true;
            main.apply(undef, args);
        }

        if (!hasProp(defined, name) && !hasProp(defining, name)) {
            throw new Error('No ' + name);
        }
        return defined[name];
    }

    //Turns a plugin!resource to [plugin, resource]
    //with the plugin being undefined if the name
    //did not have a plugin prefix.
    function splitPrefix(name) {
        var prefix,
            index = name ? name.indexOf('!') : -1;
        if (index > -1) {
            prefix = name.substring(0, index);
            name = name.substring(index + 1, name.length);
        }
        return [prefix, name];
    }

    function onResourceLoad(name, defined, deps){
        if(requirejs.onResourceLoad && name){
            requirejs.onResourceLoad({defined:defined}, {id:name}, deps);
        }
    }

    /**
     * Makes a name map, normalizing the name, and using a plugin
     * for normalization if necessary. Grabs a ref to plugin
     * too, as an optimization.
     */
    makeMap = function (name, relName) {
        var plugin,
            parts = splitPrefix(name),
            prefix = parts[0];

        name = parts[1];

        if (prefix) {
            prefix = normalize(prefix, relName);
            plugin = callDep(prefix);
        }

        //Normalize according
        if (prefix) {
            if (plugin && plugin.normalize) {
                name = plugin.normalize(name, makeNormalize(relName));
            } else {
                name = normalize(name, relName);
            }
        } else {
            name = normalize(name, relName);
            parts = splitPrefix(name);
            prefix = parts[0];
            name = parts[1];
            if (prefix) {
                plugin = callDep(prefix);
            }
        }

        //Using ridiculous property names for space reasons
        return {
            f: prefix ? prefix + '!' + name : name, //fullName
            n: name,
            pr: prefix,
            p: plugin
        };
    };

    function makeConfig(name) {
        return function () {
            return (config && config.config && config.config[name]) || {};
        };
    }

    handlers = {
        require: function (name) {
            return makeRequire(name);
        },
        exports: function (name) {
            var e = defined[name];
            if (typeof e !== 'undefined') {
                return e;
            } else {
                return (defined[name] = {});
            }
        },
        module: function (name) {
            return {
                id: name,
                uri: '',
                exports: defined[name],
                config: makeConfig(name)
            };
        }
    };

    main = function (name, deps, callback, relName) {
        var cjsModule, depName, ret, map, i,
            args = [],
            usingExports;

        //Use name if no relName
        relName = relName || name;

        //Call the callback to define the module, if necessary.
        if (typeof callback === 'function') {

            //Pull out the defined dependencies and pass the ordered
            //values to the callback.
            //Default to [require, exports, module] if no deps
            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
            for (i = 0; i < deps.length; i += 1) {
                map = makeMap(deps[i], relName);
                depName = map.f;

                //Fast path CommonJS standard dependencies.
                if (depName === "require") {
                    args[i] = handlers.require(name);
                } else if (depName === "exports") {
                    //CommonJS module spec 1.1
                    args[i] = handlers.exports(name);
                    usingExports = true;
                } else if (depName === "module") {
                    //CommonJS module spec 1.1
                    cjsModule = args[i] = handlers.module(name);
                } else if (hasProp(defined, depName) ||
                           hasProp(waiting, depName) ||
                           hasProp(defining, depName)) {
                    args[i] = callDep(depName);
                } else if (map.p) {
                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                    args[i] = defined[depName];
                } else {
                    throw new Error(name + ' missing ' + depName);
                }
            }

            ret = callback.apply(defined[name], args);

            if (name) {
                //If setting exports via "module" is in play,
                //favor that over return value and exports. After that,
                //favor a non-undefined return value over exports use.
                if (cjsModule && cjsModule.exports !== undef &&
                        cjsModule.exports !== defined[name]) {
                    defined[name] = cjsModule.exports;
                } else if (ret !== undef || !usingExports) {
                    //Use the return value from the function.
                    defined[name] = ret;
                }
            }
        } else if (name) {
            //May just be an object definition for the module. Only
            //worry about defining if have a module name.
            defined[name] = callback;
        }

        onResourceLoad(name, defined, args);
    };

    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
        if (typeof deps === "string") {
            if (handlers[deps]) {
                //callback in this case is really relName
                return handlers[deps](callback);
            }
            //Just return the module wanted. In this scenario, the
            //deps arg is the module name, and second arg (if passed)
            //is just the relName.
            //Normalize module name, if it contains . or ..
            return callDep(makeMap(deps, callback).f);
        } else if (!deps.splice) {
            //deps is a config object, not an array.
            config = deps;
            if (callback.splice) {
                //callback is an array, which means it is a dependency list.
                //Adjust args if there are dependencies
                deps = callback;
                callback = relName;
                relName = null;
            } else {
                deps = undef;
            }
        }

        //Support require(['a'])
        callback = callback || function () {};

        //If relName is a function, it is an errback handler,
        //so remove it.
        if (typeof relName === 'function') {
            relName = forceSync;
            forceSync = alt;
        }

        //Simulate async callback;
        if (forceSync) {
            main(undef, deps, callback, relName);
        } else {
            //Using a non-zero value because of concern for what old browsers
            //do, and latest browsers "upgrade" to 4 if lower value is used:
            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:
            //If want a value immediately, use require('id') instead -- something
            //that works in almond on the global level, but not guaranteed and
            //unlikely to work in other AMD implementations.
            setTimeout(function () {
                main(undef, deps, callback, relName);
            }, 4);
        }

        return req;
    };

    /**
     * Just drops the config on the floor, but returns req in case
     * the config return value is used.
     */
    req.config = function (cfg) {
        config = cfg;
        if (config.deps) {
            req(config.deps, config.callback);
        }
        return req;
    };

    /**
     * Expose module registry for debugging and tooling
     */
    requirejs._defined = defined;

    define = function (name, deps, callback) {

        //This module may not have dependencies
        if (!deps.splice) {
            //deps is not an array, so probably means
            //an object literal or factory function for
            //the value. Adjust args.
            callback = deps;
            deps = [];
        }

        if (!hasProp(defined, name) && !hasProp(waiting, name)) {
            waiting[name] = [name, deps, callback];
        }
    };

    define.amd = {
        jQuery: true
    };
}());

define("../Scripts/almond-custom", function(){});

define('durandal/system',["require","jquery"],function(e,t){function n(e){var t="[object "+e+"]";i["is"+e]=function(e){return s.call(e)==t}}var i,r=!1,a=Object.keys,o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,l=!1,c=Array.isArray,d=Array.prototype.slice;if(Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log)try{["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}catch(u){l=!0}e.on&&e.on("moduleLoaded",function(e,t){i.setModuleId(e,t)}),"undefined"!=typeof requirejs&&(requirejs.onResourceLoad=function(e,t){i.setModuleId(e.defined[t.id],t.id)});var v=function(){},p=function(){try{if("undefined"!=typeof console&&"function"==typeof console.log)if(window.opera)for(var e=0;e<arguments.length;)console.log("Item "+(e+1)+": "+arguments[e]),e++;else 1==d.call(arguments).length&&"string"==typeof d.call(arguments)[0]?console.log(d.call(arguments).toString()):console.log.apply(console,d.call(arguments));else Function.prototype.bind&&!l||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,d.call(arguments))}catch(t){}},g=function(e){if(e instanceof Error)throw e;throw new Error(e)};i={version:"2.0.1",noop:v,getModuleId:function(e){return e?"function"==typeof e?e.prototype.__moduleId__:"string"==typeof e?null:e.__moduleId__:null},setModuleId:function(e,t){return e?"function"==typeof e?(e.prototype.__moduleId__=t,void 0):("string"!=typeof e&&(e.__moduleId__=t),void 0):void 0},resolveObject:function(e){return i.isFunction(e)?new e:e},debug:function(e){return 1==arguments.length&&(r=e,r?(this.log=p,this.error=g,this.log("Debug:Enabled")):(this.log("Debug:Disabled"),this.log=v,this.error=v)),r},log:v,error:v,assert:function(e,t){e||i.error(new Error(t||"Assert:Failed"))},defer:function(e){return t.Deferred(e)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)})},acquire:function(){var t,n=arguments[0],r=!1;return i.isArray(n)?(t=n,r=!0):t=d.call(arguments,0),this.defer(function(n){e(t,function(){var e=arguments;setTimeout(function(){e.length>1||r?n.resolve(d.call(e,0)):n.resolve(e[0])},1)},function(e){n.reject(e)})}).promise()},extend:function(e){for(var t=d.call(arguments,1),n=0;n<t.length;n++){var i=t[n];if(i)for(var r in i)e[r]=i[r]}return e},wait:function(e){return i.defer(function(t){setTimeout(t.resolve,e)}).promise()}},i.keys=a||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)o.call(e,n)&&(t[t.length]=n);return t},i.isElement=function(e){return!(!e||1!==e.nodeType)},i.isArray=c||function(e){return"[object Array]"==s.call(e)},i.isObject=function(e){return e===Object(e)},i.isBoolean=function(e){return"boolean"==typeof e},i.isPromise=function(e){return e&&i.isFunction(e.then)};for(var f=["Arguments","Function","String","Number","Date","RegExp"],h=0;h<f.length;h++)n(f[h]);return i});
define('durandal/viewEngine',["durandal/system","jquery"],function(e,t){var n;return n=t.parseHTML?function(e){return t.parseHTML(e)}:function(e){return t(e).get()},{viewExtension:".html",viewPlugin:"text",isViewUrl:function(e){return-1!==e.indexOf(this.viewExtension,e.length-this.viewExtension.length)},convertViewUrlToViewId:function(e){return e.substring(0,e.length-this.viewExtension.length)},convertViewIdToRequirePath:function(e){return this.viewPlugin+"!"+e+this.viewExtension},parseMarkup:n,processMarkup:function(e){var t=this.parseMarkup(e);return this.ensureSingleElement(t)},ensureSingleElement:function(e){if(1==e.length)return e[0];for(var n=[],i=0;i<e.length;i++){var r=e[i];if(8!=r.nodeType){if(3==r.nodeType){var a=/\S/.test(r.nodeValue);if(!a)continue}n.push(r)}}return n.length>1?t(n).wrapAll('<div class="durandal-wrapper"></div>').parent().get(0):n[0]},createView:function(t){var n=this,i=this.convertViewIdToRequirePath(t);return e.defer(function(r){e.acquire(i).then(function(e){var i=n.processMarkup(e);i.setAttribute("data-view",t),r.resolve(i)}).fail(function(e){n.createFallbackView(t,i,e).then(function(e){e.setAttribute("data-view",t),r.resolve(e)})})}).promise()},createFallbackView:function(t,n){var i=this,r='View Not Found. Searched for "'+t+'" via path "'+n+'".';return e.defer(function(e){e.resolve(i.processMarkup('<div class="durandal-view-404">'+r+"</div>"))}).promise()}}});
define('durandal/viewLocator',["durandal/system","durandal/viewEngine"],function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.getAttribute("data-view");if(r==t)return i}}function i(e){return(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")}return{useConvention:function(e,t,n){e=e||"viewmodels",t=t||"views",n=n||t;var r=new RegExp(i(e),"gi");this.convertModuleIdToViewId=function(e){return e.replace(r,t)},this.translateViewIdToArea=function(e,t){return t&&"partial"!=t?n+"/"+t+"/"+e:n+"/"+e}},locateViewForObject:function(t,n,i){var r;if(t.getView&&(r=t.getView()))return this.locateView(r,n,i);if(t.viewUrl)return this.locateView(t.viewUrl,n,i);var a=e.getModuleId(t);return a?this.locateView(this.convertModuleIdToViewId(a),n,i):this.locateView(this.determineFallbackViewId(t),n,i)},convertModuleIdToViewId:function(e){return e},determineFallbackViewId:function(e){var t=/function (.{1,})\(/,n=t.exec(e.constructor.toString()),i=n&&n.length>1?n[1]:"";return"views/"+i},translateViewIdToArea:function(e){return e},locateView:function(i,r,a){if("string"==typeof i){var o;if(o=t.isViewUrl(i)?t.convertViewUrlToViewId(i):i,r&&(o=this.translateViewIdToArea(o,r)),a){var s=n(a,o);if(s)return e.defer(function(e){e.resolve(s)}).promise()}return t.createView(o)}return e.defer(function(e){e.resolve(i)}).promise()}}});
define('durandal/binder',["durandal/system","knockout"],function(e,t){function n(t){return void 0===t?{applyBindings:!0}:e.isBoolean(t)?{applyBindings:t}:(void 0===t.applyBindings&&(t.applyBindings=!0),t)}function i(i,c,d,u){if(!c||!d)return a.throwOnErrors?e.error(r):e.log(r,c,u),void 0;if(!c.getAttribute)return a.throwOnErrors?e.error(s):e.log(s,c,u),void 0;var p=c.getAttribute("data-view");try{var v;return i&&i.binding&&(v=i.binding(c)),v=n(v),a.binding(u,c,v),v.applyBindings?(e.log("Binding",p,u),t.applyBindings(d,c)):i&&t.utils.domData.set(c,l,{$data:i}),a.bindingComplete(u,c,v),i&&i.bindingComplete&&i.bindingComplete(c),t.utils.domData.set(c,o,v),v}catch(h){h.message=h.message+";\nView: "+p+";\nModuleId: "+e.getModuleId(u),a.throwOnErrors?e.error(h):e.log(h.message)}}var a,r="Insufficient Information to Bind",s="Unexpected View Type",o="durandal-binding-instruction",l="__ko_bindingContext__";return a={binding:e.noop,bindingComplete:e.noop,throwOnErrors:!1,getBindingInstruction:function(e){return t.utils.domData.get(e,o)},bindContext:function(e,t,n){return n&&e&&(e=e.createChildContext(n)),i(n,t,e,n||(e?e.$data:null))},bind:function(e,t){return i(e,t,e,e)}}});
define('durandal/activator',["durandal/system","knockout"],function(e,t){function n(e){return void 0==e&&(e={}),e.closeOnDeactivate||(e.closeOnDeactivate=c.defaults.closeOnDeactivate),e.beforeActivate||(e.beforeActivate=c.defaults.beforeActivate),e.afterDeactivate||(e.afterDeactivate=c.defaults.afterDeactivate),e.affirmations||(e.affirmations=c.defaults.affirmations),e.interpretResponse||(e.interpretResponse=c.defaults.interpretResponse),e.areSameItem||(e.areSameItem=c.defaults.areSameItem),e}function i(t,n,i){return e.isArray(i)?t[n].apply(t,i):t[n](i)}function a(t,n,i,a,r){if(t&&t.deactivate){e.log("Deactivating",t);var s;try{s=t.deactivate(n)}catch(o){return e.error(o),a.resolve(!1),void 0}s&&s.then?s.then(function(){i.afterDeactivate(t,n,r),a.resolve(!0)},function(t){e.log(t),a.resolve(!1)}):(i.afterDeactivate(t,n,r),a.resolve(!0))}else t&&i.afterDeactivate(t,n,r),a.resolve(!0)}function r(t,n,a,r){if(t)if(t.activate){e.log("Activating",t);var s;try{s=i(t,"activate",r)}catch(o){return e.error(o),a(!1),void 0}s&&s.then?s.then(function(){n(t),a(!0)},function(t){e.log(t),a(!1)}):(n(t),a(!0))}else n(t),a(!0);else a(!0)}function s(t,n,i){return i.lifecycleData=null,e.defer(function(a){if(t&&t.canDeactivate){var r;try{r=t.canDeactivate(n)}catch(s){return e.error(s),a.resolve(!1),void 0}r.then?r.then(function(e){i.lifecycleData=e,a.resolve(i.interpretResponse(e))},function(t){e.error(t),a.resolve(!1)}):(i.lifecycleData=r,a.resolve(i.interpretResponse(r)))}else a.resolve(!0)}).promise()}function o(t,n,a,r){return a.lifecycleData=null,e.defer(function(s){if(t==n())return s.resolve(!0),void 0;if(t&&t.canActivate){var o;try{o=i(t,"canActivate",r)}catch(l){return e.error(l),s.resolve(!1),void 0}o.then?o.then(function(e){a.lifecycleData=e,s.resolve(a.interpretResponse(e))},function(t){e.error(t),s.resolve(!1)}):(a.lifecycleData=o,s.resolve(a.interpretResponse(o)))}else s.resolve(!0)}).promise()}function l(i,l){var c,d=t.observable(null);l=n(l);var u=t.computed({read:function(){return d()},write:function(e){u.viaSetter=!0,u.activateItem(e)}});return u.__activator__=!0,u.settings=l,l.activator=u,u.isActivating=t.observable(!1),u.canDeactivateItem=function(e,t){return s(e,t,l)},u.deactivateItem=function(t,n){return e.defer(function(e){u.canDeactivateItem(t,n).then(function(i){i?a(t,n,l,e,d):(u.notifySubscribers(),e.resolve(!1))})}).promise()},u.canActivateItem=function(e,t){return o(e,d,l,t)},u.activateItem=function(t,n){var i=u.viaSetter;return u.viaSetter=!1,e.defer(function(s){if(u.isActivating())return s.resolve(!1),void 0;u.isActivating(!0);var o=d();return l.areSameItem(o,t,c,n)?(u.isActivating(!1),s.resolve(!0),void 0):(u.canDeactivateItem(o,l.closeOnDeactivate).then(function(v){v?u.canActivateItem(t,n).then(function(v){v?e.defer(function(e){a(o,l.closeOnDeactivate,l,e)}).promise().then(function(){t=l.beforeActivate(t,n),r(t,d,function(e){c=n,u.isActivating(!1),s.resolve(e)},n)}):(i&&u.notifySubscribers(),u.isActivating(!1),s.resolve(!1))}):(i&&u.notifySubscribers(),u.isActivating(!1),s.resolve(!1))}),void 0)}).promise()},u.canActivate=function(){var e;return i?(e=i,i=!1):e=u(),u.canActivateItem(e)},u.activate=function(){var e;return i?(e=i,i=!1):e=u(),u.activateItem(e)},u.canDeactivate=function(e){return u.canDeactivateItem(u(),e)},u.deactivate=function(e){return u.deactivateItem(u(),e)},u.includeIn=function(e){e.canActivate=function(){return u.canActivate()},e.activate=function(){return u.activate()},e.canDeactivate=function(e){return u.canDeactivate(e)},e.deactivate=function(e){return u.deactivate(e)}},l.includeIn?u.includeIn(l.includeIn):i&&u.activate(),u.forItems=function(t){l.closeOnDeactivate=!1,l.determineNextItemToActivate=function(e,t){var n=t-1;return-1==n&&e.length>1?e[1]:n>-1&&n<e.length-1?e[n]:null},l.beforeActivate=function(e){var n=u();if(e){var i=t.indexOf(e);-1==i?t.push(e):e=t()[i]}else e=l.determineNextItemToActivate(t,n?t.indexOf(n):0);return e},l.afterDeactivate=function(e,n){n&&t.remove(e)};var n=u.canDeactivate;u.canDeactivate=function(i){return i?e.defer(function(e){function n(){for(var t=0;t<r.length;t++)if(!r[t])return e.resolve(!1),void 0;e.resolve(!0)}for(var a=t(),r=[],s=0;s<a.length;s++)u.canDeactivateItem(a[s],i).then(function(e){r.push(e),r.length==a.length&&n()})}).promise():n()};var i=u.deactivate;return u.deactivate=function(n){return n?e.defer(function(e){function i(i){u.deactivateItem(i,n).then(function(){r++,t.remove(i),r==s&&e.resolve()})}for(var a=t(),r=0,s=a.length,o=0;s>o;o++)i(a[o])}).promise():i()},u},u}var c,d={closeOnDeactivate:!0,affirmations:["yes","ok","true"],interpretResponse:function(n){return e.isObject(n)&&(n=n.can||!1),e.isString(n)?-1!==t.utils.arrayIndexOf(this.affirmations,n.toLowerCase()):n},areSameItem:function(e,t){return e==t},beforeActivate:function(e){return e},afterDeactivate:function(e,t,n){t&&n&&n(null)}};return c={defaults:d,create:l,isActivator:function(e){return e&&e.__activator__}}});
define('durandal/composition',["durandal/system","durandal/viewLocator","durandal/binder","durandal/viewEngine","durandal/activator","jquery","knockout"],function(e,t,n,i,a,r,s){function o(e){for(var t=[],n={childElements:t,activeView:null},i=s.virtualElements.firstChild(e);i;)1==i.nodeType&&(t.push(i),i.getAttribute(x)&&(n.activeView=i)),i=s.virtualElements.nextSibling(i);return n.activeView||(n.activeView=t[0]),n}function l(){A--,0===A&&setTimeout(function(){for(var t=S.length;t--;)try{S[t]()}catch(n){e.error(n)}S=[]},1)}function c(e){delete e.activeView,delete e.viewElements}function d(t,n,i){if(i)n();else if(t.activate&&t.model&&t.model.activate){var a;try{a=e.isArray(t.activationData)?t.model.activate.apply(t.model,t.activationData):t.model.activate(t.activationData),a&&a.then?a.then(n,function(t){e.error(t),n()}):a||void 0===a?n():(l(),c(t))}catch(r){e.error(r)}}else n()}function u(){var t=this;if(t.activeView&&t.activeView.removeAttribute(x),t.child)try{t.model&&t.model.attached&&(t.composingNewView||t.alwaysTriggerAttach)&&t.model.attached(t.child,t.parent,t),t.attached&&t.attached(t.child,t.parent,t),t.child.setAttribute(x,!0),t.composingNewView&&t.model&&t.model.detached&&s.utils.domNodeDisposal.addDisposeCallback(t.child,function(){try{t.model.detached(t.child,t.parent,t)}catch(n){e.error(n)}})}catch(n){e.error(n)}t.triggerAttach=e.noop}function v(t){if(e.isString(t.transition)){if(t.activeView){if(t.activeView==t.child)return!1;if(!t.child)return!0;if(t.skipTransitionOnSameViewId){var n=t.activeView.getAttribute("data-view"),i=t.child.getAttribute("data-view");return n!=i}}return!0}return!1}function p(e){for(var t=0,n=e.length,i=[];n>t;t++){var a=e[t].cloneNode(!0);i.push(a)}return i}function h(e){var t=p(e.parts),n=y.getParts(t,null,!0),i=y.getParts(e.child);for(var a in n)r(i[a]).replaceWith(n[a])}function g(t){var n,i,a=s.virtualElements.childNodes(t.parent);if(!e.isArray(a)){var r=[];for(n=0,i=a.length;i>n;n++)r[n]=a[n];a=r}for(n=1,i=a.length;i>n;n++)s.removeNode(a[n])}function m(e){s.utils.domData.set(e,T,e.style.display),e.style.display="none"}function f(e){e.style.display=s.utils.domData.get(e,T)}function b(e){var t=e.getAttribute("data-bind");if(!t)return!1;for(var n=0,i=D.length;i>n;n++)if(t.indexOf(D[n])>-1)return!0;return!1}var y,w={},x="data-active-view",S=[],A=0,k="durandal-composition-data",I="data-part",C=["model","view","transition","area","strategy","activationData"],T="durandal-visibility-data",D=["compose:"],O={complete:function(e){S.push(e)}};return y={composeBindings:D,convertTransitionToModuleId:function(e){return"transitions/"+e},defaultTransitionName:null,current:O,addBindingHandler:function(e,t,n){var i,a,r="composition-handler-"+e;t=t||s.bindingHandlers[e],n=n||function(){return void 0},a=s.bindingHandlers[e]={init:function(e,i,a,o,l){if(A>0){var c={trigger:s.observable(null)};y.current.complete(function(){t.init&&t.init(e,i,a,o,l),t.update&&(s.utils.domData.set(e,r,t),c.trigger("trigger"))}),s.utils.domData.set(e,r,c)}else s.utils.domData.set(e,r,t),t.init&&t.init(e,i,a,o,l);return n(e,i,a,o,l)},update:function(e,t,n,i,a){var o=s.utils.domData.get(e,r);return o.update?o.update(e,t,n,i,a):(o.trigger&&o.trigger(),void 0)}};for(i in t)"init"!==i&&"update"!==i&&(a[i]=t[i])},getParts:function(e,t,n){if(t=t||{},!e)return t;void 0===e.length&&(e=[e]);for(var i=0,a=e.length;a>i;i++){var r=e[i];if(r.getAttribute){if(!n&&b(r))continue;var s=r.getAttribute(I);s&&(t[s]=r),!n&&r.hasChildNodes()&&y.getParts(r.childNodes,t)}}return t},cloneNodes:p,finalize:function(t){if(void 0===t.transition&&(t.transition=this.defaultTransitionName),t.child||t.activeView)if(v(t)){var i=this.convertTransitionToModuleId(t.transition);e.acquire(i).then(function(e){t.transition=e,e(t).then(function(){if(t.cacheViews){if(t.activeView){var e=n.getBindingInstruction(t.activeView);e&&void 0!=e.cacheViews&&!e.cacheViews&&s.removeNode(t.activeView)}}else t.child?g(t):s.virtualElements.emptyNode(t.parent);t.triggerAttach(),l(),c(t)})}).fail(function(t){e.error("Failed to load transition ("+i+"). Details: "+t.message)})}else{if(t.child!=t.activeView){if(t.cacheViews&&t.activeView){var a=n.getBindingInstruction(t.activeView);!a||void 0!=a.cacheViews&&!a.cacheViews?s.removeNode(t.activeView):m(t.activeView)}t.child?(t.cacheViews||g(t),f(t.child)):t.cacheViews||s.virtualElements.emptyNode(t.parent)}t.triggerAttach(),l(),c(t)}else t.cacheViews||s.virtualElements.emptyNode(t.parent),t.triggerAttach(),l(),c(t)},bindAndShow:function(e,t,a){t.child=e,t.composingNewView=t.cacheViews?-1==s.utils.arrayIndexOf(t.viewElements,e):!0,d(t,function(){if(t.binding&&t.binding(t.child,t.parent,t),t.preserveContext&&t.bindingContext)t.composingNewView&&(t.parts&&h(t),m(e),s.virtualElements.prepend(t.parent,e),n.bindContext(t.bindingContext,e,t.model));else if(e){var a=t.model||w,r=s.dataFor(e);if(r!=a){if(!t.composingNewView)return s.removeNode(e),i.createView(e.getAttribute("data-view")).then(function(e){y.bindAndShow(e,t,!0)}),void 0;t.parts&&h(t),m(e),s.virtualElements.prepend(t.parent,e),n.bind(a,e)}}y.finalize(t)},a)},defaultStrategy:function(e){return t.locateViewForObject(e.model,e.area,e.viewElements)},getSettings:function(t){var n,r=t(),o=s.utils.unwrapObservable(r)||{},l=a.isActivator(r);if(e.isString(o))return o=i.isViewUrl(o)?{view:o}:{model:o,activate:!0};if(n=e.getModuleId(o))return o={model:o,activate:!0};!l&&o.model&&(l=a.isActivator(o.model));for(var c in o)o[c]=-1!=s.utils.arrayIndexOf(C,c)?s.utils.unwrapObservable(o[c]):o[c];return l?o.activate=!1:void 0===o.activate&&(o.activate=!0),o},executeStrategy:function(e){e.strategy(e).then(function(t){y.bindAndShow(t,e)})},inject:function(n){return n.model?n.view?(t.locateView(n.view,n.area,n.viewElements).then(function(e){y.bindAndShow(e,n)}),void 0):(n.strategy||(n.strategy=this.defaultStrategy),e.isString(n.strategy)?e.acquire(n.strategy).then(function(e){n.strategy=e,y.executeStrategy(n)}).fail(function(t){e.error("Failed to load view strategy ("+n.strategy+"). Details: "+t.message)}):this.executeStrategy(n),void 0):(this.bindAndShow(null,n),void 0)},compose:function(n,i,a,r){A++,r||(i=y.getSettings(function(){return i},n)),i.compositionComplete&&S.push(function(){i.compositionComplete(i.child,i.parent,i)}),S.push(function(){i.composingNewView&&i.model&&i.model.compositionComplete&&i.model.compositionComplete(i.child,i.parent,i)});var s=o(n);i.activeView=s.activeView,i.parent=n,i.triggerAttach=u,i.bindingContext=a,i.cacheViews&&!i.viewElements&&(i.viewElements=s.childElements),i.model?e.isString(i.model)?e.acquire(i.model).then(function(t){i.model=e.resolveObject(t),y.inject(i)}).fail(function(t){e.error("Failed to load composed module ("+i.model+"). Details: "+t.message)}):y.inject(i):i.view?(i.area=i.area||"partial",i.preserveContext=!0,t.locateView(i.view,i.area,i.viewElements).then(function(e){y.bindAndShow(e,i)})):this.bindAndShow(null,i)}},s.bindingHandlers.compose={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,a,r){var o=y.getSettings(t,e);if(o.mode){var l=s.utils.domData.get(e,k);if(!l){var c=s.virtualElements.childNodes(e);l={},"inline"===o.mode?l.view=i.ensureSingleElement(c):"templated"===o.mode&&(l.parts=p(c)),s.virtualElements.emptyNode(e),s.utils.domData.set(e,k,l)}"inline"===o.mode?o.view=l.view.cloneNode(!0):"templated"===o.mode&&(o.parts=l.parts),o.preserveContext=!0}y.compose(e,o,r,!0)}},s.virtualElements.allowedBindings.compose=!0,y});
define('durandal/events',["durandal/system"],function(e){var t=/\s+/,n=function(){},i=function(e,t){this.owner=e,this.events=t};return i.prototype.then=function(e,t){return this.callback=e||this.callback,this.context=t||this.context,this.callback?(this.owner.on(this.events,this.callback,this.context),this):this},i.prototype.on=i.prototype.then,i.prototype.off=function(){return this.owner.off(this.events,this.callback,this.context),this},n.prototype.on=function(e,n,a){var r,s,o;if(n){for(r=this.callbacks||(this.callbacks={}),e=e.split(t);s=e.shift();)o=r[s]||(r[s]=[]),o.push(n,a);return this}return new i(this,e)},n.prototype.off=function(n,i,a){var r,s,o,l;if(!(s=this.callbacks))return this;if(!(n||i||a))return delete this.callbacks,this;for(n=n?n.split(t):e.keys(s);r=n.shift();)if((o=s[r])&&(i||a))for(l=o.length-2;l>=0;l-=2)i&&o[l]!==i||a&&o[l+1]!==a||o.splice(l,2);else delete s[r];return this},n.prototype.trigger=function(e){var n,i,a,r,s,o,l,c;if(!(i=this.callbacks))return this;for(c=[],e=e.split(t),r=1,s=arguments.length;s>r;r++)c[r-1]=arguments[r];for(;n=e.shift();){if((l=i.all)&&(l=l.slice()),(a=i[n])&&(a=a.slice()),a)for(r=0,s=a.length;s>r;r+=2)a[r].apply(a[r+1]||this,c);if(l)for(o=[n].concat(c),r=0,s=l.length;s>r;r+=2)l[r].apply(l[r+1]||this,o)}return this},n.prototype.proxy=function(e){var t=this;return function(n){t.trigger(e,n)}},n.includeIn=function(e){e.on=n.prototype.on,e.off=n.prototype.off,e.trigger=n.prototype.trigger,e.proxy=n.prototype.proxy},n});
define('durandal/app',["durandal/system","durandal/viewEngine","durandal/composition","durandal/events","jquery"],function(e,t,n,i,a){function r(){return e.defer(function(t){return 0==o.length?(t.resolve(),void 0):(e.acquire(o).then(function(n){for(var i=0;i<n.length;i++){var a=n[i];if(a.install){var r=l[i];e.isObject(r)||(r={}),a.install(r),e.log("Plugin:Installed "+o[i])}else e.log("Plugin:Loaded "+o[i])}t.resolve()}).fail(function(t){e.error("Failed to load plugin(s). Details: "+t.message)}),void 0)}).promise()}var s,o=[],l=[];return s={title:"Application",configurePlugins:function(t,n){var i=e.keys(t);n=n||"plugins/",-1===n.indexOf("/",n.length-1)&&(n+="/");for(var a=0;a<i.length;a++){var r=i[a];o.push(n+r),l.push(t[r])}},start:function(){return e.log("Application:Starting"),this.title&&(document.title=this.title),e.defer(function(t){a(function(){r().then(function(){t.resolve(),e.log("Application:Started")})})}).promise()},setRoot:function(i,a,r){var s,o={activate:!0,transition:a};s=!r||e.isString(r)?document.getElementById(r||"applicationHost"):r,e.isString(i)?t.isViewUrl(i)?o.view=i:o.model=i:o.model=i,n.compose(s,o)}},i.includeIn(s),s});
requirejs.config({paths:{text:"../Scripts/text",durandal:"../Scripts/durandal",plugins:"../Scripts/durandal/plugins",transitions:"../Scripts/durandal/transitions"}}),define("jquery",[],function(){return jQuery}),define("knockout",ko),define('main',["durandal/system","durandal/app","durandal/viewLocator"],function(e,t,n){e.debug(!0),t.title="אגודת חובבי הרדיו בישראל - קורס מתוקשב",t.configurePlugins({router:!0,dialog:!0,widget:!0}),t.start().then(function(){n.useConvention(),t.setRoot("viewmodels/shell","entrance")})});
define('services/cachingService',[],function(){var e=function(e,t){amplify.store(e,t)},t=function(e){return amplify.store(e)},n={add:e,get:t};return n});
define('services/displayService',["durandal/app"],function(){var e=function(e,t){switch(toastr.options={positionClass:"toast-top-full-width",fadeIn:300,fadeOut:1e3,timeOut:3e3,extendedTimeOut:1e3},t){case"error":toastr.error(e,"שגיאה!");break;case"info":toastr.info(e,"לידיעתך!");break;case"warning":toastr.warning(e,"אזהרה!");break;case"Success":toastr.warning(e,"יופי!");break;default:toastr.success(e,"יופי!")}};return{display:e}});
define('services/enums',[],function(){var e={Status:{OK:"0",INFO:"1",ERROR:"2"}};return e});
define('services/themeManager',[],function(){var e="style",t=30,n=function(n){var i,r;for(i=0,r=document.getElementsByTagName("link");i<r.length;i++)-1!=r[i].rel.indexOf("stylesheet")&&r[i].title&&(r[i].disabled=!0,r[i].title==n&&(r[i].disabled=!1)),a(e,n,t)},i=function(){var t=r(e);t.length&&n(t)},a=function(e,t,n,i){var a=i?"; domain="+i:"";document.cookie=e+"="+encodeURIComponent(t)+"; max-age="+86400*n+"; path=/"+a},r=function(e){var t=document.cookie;if(0!=t.length){t.match("(^|;)[s]*"+e+"=([^;]*)");var n=t.match(e+"=([^;]*)");return decodeURIComponent(n[1])}return""},s={switch_style:n,set_style_from_cookie:i};return s});
define('services/utilities',[],function(){base64Keys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",base64Encode=function(e){var t,n,i,a,r,o,s,l,d;for(d="",l=0,e=utf8Encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),a=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|i>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),d=""+d+base64Keys.charAt(a)+base64Keys.charAt(r)+(64>o?base64Keys.charAt(o):"")+(64>s?base64Keys.charAt(s):"");return d},utf8Encode=function(e){var t,n,i,a,r,o;for(e=e.replace(/\r\n/g,"\n"),i="",o=e.split(""),a=0,r=o.length;r>a;a++)n=o[a],t=n.charCodeAt(0),128>t?i+=String.fromCharCode(t):t>127&&2048>t?(i+=String.fromCharCode(192|t>>6),i+=String.fromCharCode(128|63&t)):(i+=String.fromCharCode(224|t>>12),i+=String.fromCharCode(128|63&t>>6),i+=String.fromCharCode(128|63&t));return i};var e=function(e,t){var n=e+":"+t,i=base64Encode(n);return i},t=function(e){var t=$(e),n=[t.size()],i=0;return t.each(function(){n[i]=$(this).attr("id"),i++}),n},n=function(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e},i=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},a={encode64:base64Encode,getBase64Auth:e,getOrder:t,pad:n,safe_tags:i};return a});
define('viewmodels/exams',['require'],function(e){return this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.examList=ko.observableArray(),this.getData=function(){$.ajax({type:"GET",url:"./Server/exam/get.php?d="+Date.now(),headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))}}).done(function(e){examList(e)}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},{compositionComplete:function(){getData()},activate:function(){},examList:examList,getData:getData}});
define('viewmodels/examsmanager',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.exams=e("viewmodels/exams");var t,n=ko.observable(""),i=ko.observable("");return this.remove=function(e){confirm("You are about to delete this exam. Are you sure?")&&$.ajax({type:"POST",url:"./Server/exam/delete.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{exam:e}}).done(function(e){displayService.display(e),exams.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.clearControl=function(){n(""),i("")},this.addItem=function(){var e={newexam:{t:i,d:n}};return""===$.trim(n())?(displayService.display("חובה להכניס תיאור","error"),void 0):($.ajax({type:"POST",url:"./Server/exam/add.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:e}).done(function(e){clearControl(),displayService.display(e),exams.getData()}).error(function(e){clearControl(),alert(jQuery.parseJSON(e.responseText).error)}),void 0)},this.reorder=function(e){$.ajax({type:"POST",url:"./Server/reorder.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{list:utilities.getOrder(e),table:"exams"}}).done(function(){exams.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.Send=function(){""!==n()&&t.getQueueSize()>0?t.submit():(displayService.display("חובה להכניס תיאור","error"),complete(!0))},{compositionComplete:function(){exams.getData(),$.placeholder.fix(),$(".sortable").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable tr")}}),$(".sortable").disableSelection();var e=document.getElementById("upload-btn"),n=document.getElementById("pic-progress-wrap"),a=(document.getElementById("picbox"),document.getElementById("errormsg"));t=new ss.SimpleUpload({button:e,url:"./Server/uploadHandler.php?dir=exams",name:"uploadfile",multiple:!1,queue:!1,maxUploads:1,hoverClass:"btn-hover",focusClass:"active",disabledClass:"disabled",responseType:"json",autoSubmit:!1,onChange:function(e){i(e)},onSubmit:function(e){var t=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");t.className="prog",s.className="size",i.className="progress progress-striped active",r.className="progress-bar progress-bar-success",i.appendChild(r),t.innerHTML='<span style="vertical-align:middle;">'+utilities.safe_tags(e)+" - </span>",t.appendChild(s),t.appendChild(i),n.appendChild(t),this.setProgressBar(r),this.setProgressContainer(t),this.setFileSizeBox(s),a.innerHTML=""},startXHR:function(){var e=document.createElement("button");n.appendChild(e),e.className="btn btn-sm btn-info",e.innerHTML="Cancel",this.setAbortBtn(e,!0)},onComplete:function(e,t){return t?(t.success===!0?(i(t.file),addItem()):(a.innerHTML=t.msg?t.msg:"Unable to upload file",complete(!0)),void 0):(a.innerHTML="Unable to upload file",complete(!0),void 0)}})},addItem:addItem,desc:n,itemList:exams.examList,remove:remove,Send:Send}});
define('viewmodels/files',['require'],function(e){return this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.fileList=ko.observableArray(),this.getData=function(){$.ajax({type:"GET",url:"./Server/file/get.php?d="+Date.now(),headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))}}).done(function(e){fileList(e)}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},{compositionComplete:function(){getData()},activate:function(){},fileList:fileList,getData:getData}});
define('viewmodels/filesmanager',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.files=e("viewmodels/files");var t,n=ko.observable(""),i=ko.observable("");return this.remove=function(e){confirm("You are about to delete this file. Are you sure?")&&$.ajax({type:"POST",url:"./Server/file/delete.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{file:e}}).done(function(e){displayService.display(e),files.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.clearControl=function(){n(""),i("")},this.addItem=function(){var e={newfile:{t:i,d:n}};return""===$.trim(n())?(displayService.display("חובה להכניס תיאור","error"),void 0):($.ajax({type:"POST",url:"./Server/file/add.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:e}).done(function(e){clearControl(),displayService.display(e),files.getData()}).error(function(e){clearControl(),alert(jQuery.parseJSON(e.responseText).error)}),void 0)},this.reorder=function(e){$.ajax({type:"POST",url:"./Server/reorder.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{list:utilities.getOrder(e),table:"files"}}).done(function(){files.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.Send=function(){""!==n()&&t.getQueueSize()>0?t.submit():(displayService.display("חובה להכניס תיאור","error"),complete(!0))},{compositionComplete:function(){files.getData(),$.placeholder.fix(),$(".sortable").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable tr")}}),$(".sortable").disableSelection();var e=document.getElementById("upload-btn"),n=document.getElementById("pic-progress-wrap"),a=(document.getElementById("picbox"),document.getElementById("errormsg"));t=new ss.SimpleUpload({button:e,url:"./Server/uploadHandler.php?dir=files",name:"uploadfile",multiple:!1,queue:!1,maxUploads:1,hoverClass:"btn-hover",focusClass:"active",disabledClass:"disabled",responseType:"json",autoSubmit:!1,onChange:function(e){i(e)},onSubmit:function(e){var t=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");t.className="prog",s.className="size",i.className="progress progress-striped active",r.className="progress-bar progress-bar-success",i.appendChild(r),t.innerHTML='<span style="vertical-align:middle;">'+utilities.safe_tags(e)+" - </span>",t.appendChild(s),t.appendChild(i),n.appendChild(t),this.setProgressBar(r),this.setProgressContainer(t),this.setFileSizeBox(s),a.innerHTML=""},startXHR:function(){var e=document.createElement("button");n.appendChild(e),e.className="btn btn-sm btn-info",e.innerHTML="Cancel",this.setAbortBtn(e,!0)},onComplete:function(e,t){return t?(t.success===!0?(i(t.file),addItem()):(a.innerHTML=t.msg?t.msg:"Unable to upload file",complete(!0)),void 0):(a.innerHTML="Unable to upload file",complete(!0),void 0)}})},addItem:addItem,desc:n,itemList:files.fileList,remove:remove,Send:Send}});
define('viewmodels/forum',[],function(){return{}});
define('viewmodels/home',["services/cachingService","services/utilities"],function(e){var t=ko.observable(e.get("role"));return{activate:function(){t(e.get("role"))},Image:"Content/images/Ham_Radio.png",role:t}});
define('plugins/history',["durandal/system","jquery"],function(e,t){function n(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}var i=/^[#\/]|\s+$/g,a=/^\/+|\/+$/g,r=/msie [\w.]+/,o=/\/$/,s={interval:50,active:!1};return"undefined"!=typeof window&&(s.location=window.location,s.history=window.history),s.getHash=function(e){var t=(e||s).location.href.match(/#(.*)$/);return t?t[1]:""},s.getFragment=function(e,t){if(null==e)if(s._hasPushState||!s._wantsHashChange||t){e=s.location.pathname+s.location.search;var n=s.root.replace(o,"");e.indexOf(n)||(e=e.substr(n.length))}else e=s.getHash();return e.replace(i,"")},s.activate=function(n){s.active&&e.error("History has already been activated."),s.active=!0,s.options=e.extend({},{root:"/"},s.options,n),s.root=s.options.root,s._wantsHashChange=s.options.hashChange!==!1,s._wantsPushState=!!s.options.pushState,s._hasPushState=!!(s.options.pushState&&s.history&&s.history.pushState);var o=s.getFragment(),l=document.documentMode,c=r.exec(navigator.userAgent.toLowerCase())&&(!l||7>=l);s.root=("/"+s.root+"/").replace(a,"/"),c&&s._wantsHashChange&&(s.iframe=t('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,s.navigate(o,!1)),s._hasPushState?t(window).on("popstate",s.checkUrl):s._wantsHashChange&&"onhashchange"in window&&!c?t(window).on("hashchange",s.checkUrl):s._wantsHashChange&&(s._checkUrlInterval=setInterval(s.checkUrl,s.interval)),s.fragment=o;var d=s.location,u=d.pathname.replace(/[^\/]$/,"$&/")===s.root;if(s._wantsHashChange&&s._wantsPushState){if(!s._hasPushState&&!u)return s.fragment=s.getFragment(null,!0),s.location.replace(s.root+s.location.search+"#"+s.fragment),!0;s._hasPushState&&u&&d.hash&&(this.fragment=s.getHash().replace(i,""),this.history.replaceState({},document.title,s.root+s.fragment+d.search))}return s.options.silent?void 0:s.loadUrl()},s.deactivate=function(){t(window).off("popstate",s.checkUrl).off("hashchange",s.checkUrl),clearInterval(s._checkUrlInterval),s.active=!1},s.checkUrl=function(){var e=s.getFragment();return e===s.fragment&&s.iframe&&(e=s.getFragment(s.getHash(s.iframe))),e===s.fragment?!1:(s.iframe&&s.navigate(e,!1),s.loadUrl(),void 0)},s.loadUrl=function(e){var t=s.fragment=s.getFragment(e);return s.options.routeHandler?s.options.routeHandler(t):!1},s.navigate=function(t,i){if(!s.active)return!1;if(void 0===i?i={trigger:!0}:e.isBoolean(i)&&(i={trigger:i}),t=s.getFragment(t||""),s.fragment!==t){s.fragment=t;var a=s.root+t;if(""===t&&"/"!==a&&(a=a.slice(0,-1)),s._hasPushState)s.history[i.replace?"replaceState":"pushState"]({},document.title,a);else{if(!s._wantsHashChange)return s.location.assign(a);n(s.location,t,i.replace),s.iframe&&t!==s.getFragment(s.getHash(s.iframe))&&(i.replace||s.iframe.document.open().close(),n(s.iframe.location,t,i.replace))}return i.trigger?s.loadUrl(t):void 0}},s.navigateBack=function(){s.history.back()},s});
define('plugins/router',["durandal/system","durandal/app","durandal/activator","durandal/events","durandal/composition","plugins/history","knockout","jquery"],function(e,t,n,i,r,a,o,s){function l(e){return e=e.replace(m,"\\$&").replace(g,"(?:$1)?").replace(h,function(e,t){return t?e:"([^/]+)"}).replace(f,"(.*?)"),new RegExp("^"+e+"$")}function c(e){var t=e.indexOf(":"),n=t>0?t-1:e.length;return e.substring(0,n)}function d(e,t){return-1!==e.indexOf(t,e.length-t.length)}function u(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,i=e.length;i>n;n++)if(e[n]!=t[n])return!1;return!0}var v,p,g=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,f=/\*\w+/g,m=/[\-{}\[\]+?.,\\\^$|#\s]/g,b=/\/$/,y=function(){function r(e){return e.router&&e.router.parent==B}function s(e){_&&_.config.isActive&&_.config.isActive(e)}function g(t,n){e.log("Navigation Complete",t,n);var i=e.getModuleId(O);i&&B.trigger("router:navigation:from:"+i),O=t,s(!1),_=n,s(!0);var a=e.getModuleId(O);a&&B.trigger("router:navigation:to:"+a),r(t)||B.updateDocumentTitle(t,n),p.explicitNavigation=!1,p.navigatingBack=!1,B.trigger("router:navigation:complete",t,n,B)}function h(t,n){e.log("Navigation Cancelled"),B.activeInstruction(_),_&&B.navigate(_.fragment,!1),N(!1),p.explicitNavigation=!1,p.navigatingBack=!1,B.trigger("router:navigation:cancelled",t,n,B)}function f(t){e.log("Navigation Redirecting"),N(!1),p.explicitNavigation=!1,p.navigatingBack=!1,B.navigate(t,{trigger:!0,replace:!0})}function m(t,n,i){p.navigatingBack=!p.explicitNavigation&&O!=i.fragment,B.trigger("router:route:activating",n,i,B),t.activateItem(n,i.params).then(function(e){if(e){var a=O;if(g(n,i),r(n)){var o=i.fragment;i.queryString&&(o+="?"+i.queryString),n.router.loadUrl(o)}a==n&&(B.attached(),B.compositionComplete())}else t.settings.lifecycleData&&t.settings.lifecycleData.redirect?f(t.settings.lifecycleData.redirect):h(n,i);v&&(v.resolve(),v=null)}).fail(function(t){e.error(t)})}function w(t,n,i){var r=B.guardRoute(n,i);r?r.then?r.then(function(r){r?e.isString(r)?f(r):m(t,n,i):h(n,i)}):e.isString(r)?f(r):m(t,n,i):h(n,i)}function x(e,t,n){B.guardRoute?w(e,t,n):m(e,t,n)}function S(e){return _&&_.config.moduleId==e.config.moduleId&&O&&(O.canReuseForRoute&&O.canReuseForRoute.apply(O,e.params)||!O.canReuseForRoute&&O.router&&O.router.loadUrl)}function k(){if(!N()){var t=D.shift();D=[],t&&(N(!0),B.activeInstruction(t),S(t)?x(n.create(),O,t):e.acquire(t.config.moduleId).then(function(n){var i=e.resolveObject(n);x(j,i,t)}).fail(function(n){e.error("Failed to load routed module ("+t.config.moduleId+"). Details: "+n.message)}))}}function A(e){D.unshift(e),k()}function I(e,t,n){for(var i=e.exec(t).slice(1),r=0;r<i.length;r++){var a=i[r];i[r]=a?decodeURIComponent(a):null}var o=B.parseQueryString(n);return o&&i.push(o),{params:i,queryParams:o}}function C(t){B.trigger("router:route:before-config",t,B),e.isRegExp(t)?t.routePattern=t.route:(t.title=t.title||B.convertRouteToTitle(t.route),t.moduleId=t.moduleId||B.convertRouteToModuleId(t.route),t.hash=t.hash||B.convertRouteToHash(t.route),t.routePattern=l(t.route)),t.isActive=t.isActive||o.observable(!1),B.trigger("router:route:after-config",t,B),B.routes.push(t),B.route(t.routePattern,function(e,n){var i=I(t.routePattern,e,n);A({fragment:e,queryString:n,config:t,params:i.params,queryParams:i.queryParams})})}function T(t){if(e.isArray(t.route))for(var n=t.isActive||o.observable(!1),i=0,r=t.route.length;r>i;i++){var a=e.extend({},t);a.route=t.route[i],a.isActive=n,i>0&&delete a.nav,C(a)}else C(t);return B}var O,_,D=[],N=o.observable(!1),j=n.create(),B={handlers:[],routes:[],navigationModel:o.observableArray([]),activeItem:j,isNavigating:o.computed(function(){var e=j(),t=N(),n=e&&e.router&&e.router!=B&&e.router.isNavigating()?!0:!1;return t||n}),activeInstruction:o.observable(null),__router__:!0};return i.includeIn(B),j.settings.areSameItem=function(e,t,n,i){return e==t?u(n,i):!1},B.parseQueryString=function(e){var t,n;if(!e)return null;if(n=e.split("&"),0==n.length)return null;t={};for(var i=0;i<n.length;i++){var r=n[i];if(""!==r){var a=r.split("=");t[a[0]]=a[1]&&decodeURIComponent(a[1].replace(/\+/g," "))}}return t},B.route=function(e,t){B.handlers.push({routePattern:e,callback:t})},B.loadUrl=function(t){var n=B.handlers,i=null,r=t,o=t.indexOf("?");if(-1!=o&&(r=t.substring(0,o),i=t.substr(o+1)),B.relativeToParentRouter){var s=this.parent.activeInstruction();r=s.params.join("/"),r&&"/"==r.charAt(0)&&(r=r.substr(1)),r||(r=""),r=r.replace("//","/").replace("//","/")}r=r.replace(b,"");for(var l=0;l<n.length;l++){var c=n[l];if(c.routePattern.test(r))return c.callback(r,i),!0}return e.log("Route Not Found"),B.trigger("router:route:not-found",t,B),_&&a.navigate(_.fragment,{trigger:!1,replace:!0}),p.explicitNavigation=!1,p.navigatingBack=!1,!1},B.updateDocumentTitle=function(e,n){n.config.title?document.title=t.title?n.config.title+" | "+t.title:n.config.title:t.title&&(document.title=t.title)},B.navigate=function(e,t){return e&&-1!=e.indexOf("://")?(window.location.href=e,!0):(p.explicitNavigation=!0,a.navigate(e,t))},B.navigateBack=function(){a.navigateBack()},B.attached=function(){B.trigger("router:navigation:attached",O,_,B)},B.compositionComplete=function(){N(!1),B.trigger("router:navigation:composition-complete",O,_,B),k()},B.convertRouteToHash=function(e){if(B.relativeToParentRouter){var t=B.parent.activeInstruction(),n=t.config.hash+"/"+e;return a._hasPushState&&(n="/"+n),n=n.replace("//","/").replace("//","/")}return a._hasPushState?e:"#"+e},B.convertRouteToModuleId=function(e){return c(e)},B.convertRouteToTitle=function(e){var t=c(e);return t.substring(0,1).toUpperCase()+t.substring(1)},B.map=function(t,n){if(e.isArray(t)){for(var i=0;i<t.length;i++)B.map(t[i]);return B}return e.isString(t)||e.isRegExp(t)?(n?e.isString(n)&&(n={moduleId:n}):n={},n.route=t):n=t,T(n)},B.buildNavigationModel=function(t){for(var n=[],i=B.routes,r=t||100,a=0;a<i.length;a++){var o=i[a];o.nav&&(e.isNumber(o.nav)||(o.nav=++r),n.push(o))}return n.sort(function(e,t){return e.nav-t.nav}),B.navigationModel(n),B},B.mapUnknownRoutes=function(t,n){var i="*catchall",r=l(i);return B.route(r,function(o,s){var l=I(r,o,s),c={fragment:o,queryString:s,config:{route:i,routePattern:r},params:l.params,queryParams:l.queryParams};if(t)if(e.isString(t))c.config.moduleId=t,n&&a.navigate(n,{trigger:!1,replace:!0});else if(e.isFunction(t)){var d=t(c);if(d&&d.then)return d.then(function(){B.trigger("router:route:before-config",c.config,B),B.trigger("router:route:after-config",c.config,B),A(c)}),void 0}else c.config=t,c.config.route=i,c.config.routePattern=r;else c.config.moduleId=o;B.trigger("router:route:before-config",c.config,B),B.trigger("router:route:after-config",c.config,B),A(c)}),B},B.reset=function(){return _=O=void 0,B.handlers=[],B.routes=[],B.off(),delete B.options,B},B.makeRelative=function(t){return e.isString(t)&&(t={moduleId:t,route:t}),t.moduleId&&!d(t.moduleId,"/")&&(t.moduleId+="/"),t.route&&!d(t.route,"/")&&(t.route+="/"),t.fromParent&&(B.relativeToParentRouter=!0),B.on("router:route:before-config").then(function(e){t.moduleId&&(e.moduleId=t.moduleId+e.moduleId),t.route&&(e.route=""===e.route?t.route.substring(0,t.route.length-1):t.route+e.route)}),B},B.createChildRouter=function(){var e=y();return e.parent=B,e},B};return p=y(),p.explicitNavigation=!1,p.navigatingBack=!1,p.targetIsThisWindow=function(e){var t=s(e.target).attr("target");return!t||t===window.name||"_self"===t||"top"===t&&window===window.top?!0:!1},p.activate=function(t){return e.defer(function(n){if(v=n,p.options=e.extend({routeHandler:p.loadUrl},p.options,t),a.activate(p.options),a._hasPushState)for(var i=p.routes,r=i.length;r--;){var o=i[r];o.hash=o.hash.replace("#","")}s(document).delegate("a","click",function(e){if(a._hasPushState){if(!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&p.targetIsThisWindow(e)){var t=s(this).attr("href");null==t||"#"===t.charAt(0)||/^[a-z]+:/i.test(t)||(p.explicitNavigation=!0,e.preventDefault(),a.navigate(t))}}else p.explicitNavigation=!0}),a.options.silent&&v&&(v.resolve(),v=null)}).promise()},p.deactivate=function(){a.deactivate()},p.install=function(){o.bindingHandlers.router={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,i,a){var s=o.utils.unwrapObservable(t())||{};if(s.__router__)s={model:s.activeItem(),attached:s.attached,compositionComplete:s.compositionComplete,activate:!1};else{var l=o.utils.unwrapObservable(s.router||i.router)||p;s.model=l.activeItem(),s.attached=l.attached,s.compositionComplete=l.compositionComplete,s.activate=!1}r.compose(e,s,a)}},o.virtualElements.allowedBindings.router=!0},p});
define('viewmodels/login',["plugins/router","durandal/app","services/cachingService","services/utilities","services/displayService"],function(e,t,n,i){var a=ko.observable(n.get("username")),r=ko.observable(""),s=ko.observable(n.get("firstname")),o=ko.observable(n.get("lastname")),l=ko.observable(n.get("email")),d=ko.observable("1"===n.get("isAdmin")),c=ko.observable("1"===n.get("isLoggedIn")),u=ko.observable(n.get("role")),p=ko.observable(n.get("course")),v=ko.observable(!1);return this.login=function(){v(!1),$.ajax({type:"POST",url:"./Server/authenticate.php",headers:{Authorization:i.getBase64Auth(a(),r())}}).done(function(t){t.isAuthorized?(n.add("username",a()),n.add("password",r()),n.add("firstname",t.firstname),n.add("lastname",t.lastname),n.add("email",t.email),n.add("isAdmin",t.isadmin),n.add("isLoggedIn","1"),n.add("role",t.role),n.add("course",t.course),s(n.get("firstname")),o(n.get("lastname")),l(n.get("email")),d("1"===n.get("isAdmin")),c("1"===n.get("isLoggedIn")),u(n.get("role")),p(n.get("course")),r(""),e.navigate("#home")):(v(!0),r(""))}).error(function(){v(!0),r("")})},{viewAttached:function(){$.placeholder.fix()},username:a,password:r,firstname:s,lastname:o,email:l,isadmin:d,isloggedin:c,role:u,course:p,login:login,showLoginAlert:v}});
define('viewmodels/lessons',["durandal/app","services/cachingService","services/utilities","services/displayService","viewmodels/login"],function(e,t,n,i,a){return this.lessonList=ko.observableArray(),this.lessonList2=ko.observableArray(),this.lessonList3=ko.observableArray(),this.getData=function(){$.ajax({type:"GET",url:"./Server/lesson/get.php?d="+Date.now(),headers:{Authorization:n.getBase64Auth(t.get("username"),t.get("password"))}}).done(function(e){var t=Enumerable.From(e).Where(function(e){return"0"==e.s}).ToArray();lessonList(t);var n=Enumerable.From(e).Where(function(e){return"1"==e.s}).ToArray();lessonList2(n);var i=Enumerable.From(e).Where(function(e){return"2"==e.s}).ToArray();lessonList3(i),$(".fancy").click(function(){return $.fancybox({padding:0,autoScale:!1,transitionIn:"none",transitionOut:"none",title:this.title,width:1152,height:693,href:this.href.replace(new RegExp("watch\\?v=","i"),"v/"),type:"iframe"}),!1})}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},{compositionComplete:function(){getData()},activate:function(){},lessonList:lessonList,lessonList2:lessonList2,lessonList3:lessonList3,getData:getData,course:a.course,isadmin:a.isadmin}});
define('viewmodels/lessonsmanager',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.lessons=e("viewmodels/lessons");var t,n=ko.observable("0"),i=ko.observable(""),a=ko.observable("");return this.remove=function(e){confirm("You are about to delete this lesson. Are you sure?")&&$.ajax({type:"POST",url:"./Server/lesson/delete.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{lesson:e}}).done(function(e){displayService.display(e),lessons.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.clearControl=function(){i(""),a("")},this.addItem=function(){var e={newlesson:{t:a,d:i,s:n}};return""===$.trim(i())?(displayService.display("חובה להכניס תיאור","error"),void 0):($.ajax({type:"POST",url:"./Server/lesson/add.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:e}).done(function(e){clearControl(),displayService.display(e),lessons.getData()}).error(function(e){clearControl(),alert(jQuery.parseJSON(e.responseText).error)}),void 0)},this.reorder=function(e){$.ajax({type:"POST",url:"./Server/reorder.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{list:utilities.getOrder(e),table:"lessons"}}).done(function(){lessons.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.Send=function(){""!==i()&&t.getQueueSize()>0?t.submit():(displayService.display("חובה להכניס תיאור","error"),complete(!0))},{compositionComplete:function(){lessons.getData(),$.placeholder.fix(),$(".sortable1").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable1 tr")}}).disableSelection(),$(".sortable2").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable2 tr")}}).disableSelection(),$(".sortable3").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable3 tr")}}).disableSelection();var e=document.getElementById("upload-btn"),n=document.getElementById("pic-progress-wrap"),i=(document.getElementById("picbox"),document.getElementById("errormsg"));t=new ss.SimpleUpload({button:e,url:"./Server/uploadHandler.php?dir=lessons",name:"uploadfile",multiple:!1,queue:!1,maxUploads:1,hoverClass:"btn-hover",focusClass:"active",disabledClass:"disabled",responseType:"json",autoSubmit:!1,onChange:function(e){a(e)},onSubmit:function(e){var t=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");t.className="prog",s.className="size",a.className="progress progress-striped active",r.className="progress-bar progress-bar-success",a.appendChild(r),t.innerHTML='<span style="vertical-align:middle;">'+utilities.safe_tags(e)+" - </span>",t.appendChild(s),t.appendChild(a),n.appendChild(t),this.setProgressBar(r),this.setProgressContainer(t),this.setFileSizeBox(s),i.innerHTML=""},startXHR:function(){var e=document.createElement("button");n.appendChild(e),e.className="btn btn-sm btn-info",e.innerHTML="Cancel",this.setAbortBtn(e,!0)},onComplete:function(e,t){return t?(t.success===!0?(a(t.file),addItem()):(i.innerHTML=t.msg?t.msg:"Unable to upload file",complete(!0)),void 0):(i.innerHTML="Unable to upload file",complete(!0),void 0)}})},addItem:addItem,desc:i,section:n,itemList:lessons.lessonList,itemList2:lessons.lessonList2,itemList3:lessons.lessonList3,remove:remove,Send:Send}});
define('viewmodels/links',['require'],function(e){return this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.linkList=ko.observableArray(),this.getData=function(){$.ajax({type:"GET",url:"./Server/link/get.php?d="+Date.now(),headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))}}).done(function(e){linkList(e)}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},{compositionComplete:function(){getData()},activate:function(){},linkList:linkList,getData:getData}});
define('viewmodels/linksmanager',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.links=e("viewmodels/links");var t=ko.observable(""),n=ko.observable("");return this.remove=function(e){confirm("You are about to delete this link. Are you sure?")&&$.ajax({type:"POST",url:"./Server/link/delete.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{link:e}}).done(function(e){displayService.display(e),links.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.clearControl=function(){t(""),n("")},this.addItem=function(){var e={newlink:{t:t,d:n}};return""===$.trim(t())||""===$.trim(n())?(displayService.display("חובה להכניס כתובת ותיאור","error"),void 0):($.ajax({type:"POST",url:"./Server/link/add.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:e}).done(function(e){clearControl(),displayService.display(e),links.getData(),app.trigger("audit")}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)}),void 0)},this.reorder=function(e){$.ajax({type:"POST",url:"./Server/reorder.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{list:utilities.getOrder(e),table:"links"}}).done(function(){links.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},{compositionComplete:function(){links.getData(),$.placeholder.fix(),$(".sortable").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable tr")}}),$(".sortable").disableSelection()},addItem:addItem,target:t,desc:n,itemList:links.linkList,remove:remove}});
define('viewmodels/presentations',['require'],function(e){this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.presentationList=ko.observableArray();var t=function(){$.ajax({type:"GET",url:"./Server/presentation/get.php?d="+Date.now(),headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))}}).done(function(e){presentationList(e),$(".fancy").click(function(){return $.fancybox({padding:0,autoScale:!1,transitionIn:"none",transitionOut:"none",title:this.title,width:1152,height:693,href:this.href.replace(new RegExp("watch\\?v=","i"),"v/"),type:"iframe"}),!1})}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})};return{compositionComplete:function(){t()},activate:function(){},presentationList:presentationList,getData:t}});
define('viewmodels/presentationsmanager',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.presentations=e("viewmodels/presentations");var t=ko.observable(""),n=ko.observable("");return this.remove=function(e){confirm("You are about to delete this presentation. Are you sure?")&&$.ajax({type:"POST",url:"./Server/presentation/delete.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{presentation:e}}).done(function(e){displayService.display(e),presentations.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.clearControl=function(){t(""),n("")},this.addItem=function(){var e={newpresentation:{t:t,d:n}};return""===$.trim(t())||""===$.trim(n())?(displayService.display("חובה להכניס כתובת ותיאור","error"),void 0):($.ajax({type:"POST",url:"./Server/presentation/add.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:e}).done(function(e){clearControl(),displayService.display(e),presentations.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)}),void 0)},this.reorder=function(e){$.ajax({type:"POST",url:"./Server/reorder.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{list:utilities.getOrder(e),table:"presentations"}}).done(function(){presentations.getData()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},{compositionComplete:function(){presentations.getData(),$.placeholder.fix(),$(".sortable").sortable({placeholder:"ui-state-highlight",update:function(){reorder(".sortable tr")}}).disableSelection(),$(".sortable").disableSelection()},addItem:addItem,target:t,desc:n,itemList:presentations.presentationList,remove:remove}});
define('viewmodels/shell',["plugins/router","durandal/app","services/cachingService","services/utilities","services/displayService","services/themeManager"],function(e,t,n,i,a,r){var s=ko.observable(!1),o=ko.observable(!1),l=ko.observable(""),d=ko.observable(""),c=ko.observable("user"),u=ko.computed(function(){return l()+" "+d()},this),p="Content/images/iarc_logo.gif";return this.logout=function(){s(!1),n.add("username",null),n.add("password",null),n.add("isLoggedIn",null),n.add("isAdmin",null),n.add("role",null),e.navigate("")},{router:e,logout:logout,firstName:l,lastName:d,fullName:u,isLoggedIn:s,isAdmin:o,role:c,Image:p,router:e,setTheme:r.switch_style,compositionComplete:function(){r.set_style_from_cookie()},activate:function(){return e.map([{route:"lessonsmanager",title:"ניהול שיעורים",moduleId:"viewmodels/lessonsmanager",nav:!1,visible:!1,admin:!0,restricted:!1},{route:"usersmanager",title:"ניהול משתמשים",moduleId:"viewmodels/usersmanager",nav:!1,visible:!1,admin:!0,restricted:!1},{route:"presentationsmanager",title:"ניהול מצגות",moduleId:"viewmodels/presentationsmanager",nav:!1,visible:!1,admin:!0,restricted:!1},{route:"examsmanager",title:"ניהול מבחנים",moduleId:"viewmodels/examsmanager",nav:!1,visible:!1,admin:!0,restricted:!1},{route:"linksmanager",title:"ניהול קישורים",moduleId:"viewmodels/linksmanager",nav:!1,visible:!1,admin:!0,restricted:!1},{route:"filesmanager",title:"ניהול קבצים",moduleId:"viewmodels/filesmanager",nav:!1,visible:!1,admin:!0,restricted:!1},{route:"forum",title:"פורום",moduleId:"viewmodels/forum",nav:!0,visible:!1,admin:!1,restricted:!0},{route:"files",title:"קבצים",moduleId:"viewmodels/files",nav:!0,visible:!1,admin:!1,restricted:!1},{route:"links",title:"קישורים",moduleId:"viewmodels/links",nav:!0,visible:!1,admin:!1,restricted:!1},{route:"exams",title:"מבחנים",moduleId:"viewmodels/exams",nav:!0,visible:!1,admin:!1,restricted:!0},{route:"presentations",title:"מצגות",moduleId:"viewmodels/presentations",nav:!0,visible:!1,admin:!1,restricted:!1},{route:"lessons",title:"שיעורים",moduleId:"viewmodels/lessons",nav:!0,visible:!1,admin:!1,restricted:!1},{route:"userdetails",title:"שינוי סיסמה",moduleId:"viewmodels/userdetails",nav:!1,visible:!1,admin:!1,restricted:!1},{route:"",title:"התחבר",moduleId:"viewmodels/login",nav:!1,visible:!1,admin:!1,restricted:!1},{route:"home",title:"דף הבית",moduleId:"viewmodels/home",nav:!1,visible:!1,admin:!1,restricted:!1}]).buildNavigationModel(),e.guardRoute=function(e,t){var i=n.get("isLoggedIn"),r=n.get("isAdmin");return s("1"===i),o("1"===r),c(n.get("role")),""===t.fragment?s()?"#home":(n.add("username",null),n.add("password",null),n.add("firstname",null),n.add("lastname",null),n.add("isLoggedIn",null),n.add("isAdmin",null),!0):e.admin?s()&&o()?(l(n.get("firstname")),d(n.get("lastname")),!0):s()?(o()||a.display("דף זה נגיש למשתמשים מורשים בלבד!","error"),!1):!1:e.restricted?"restricted"==c()?!1:s()?(l(n.get("firstname")),d(n.get("lastname")),!0):void 0:s()?(l(n.get("firstname")),d(n.get("lastname")),!0):!1},e.activate("")}}});
define('viewmodels/userdetails',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.login=e("viewmodels/login");var t=ko.observable(""),n=ko.observable(""),i=ko.observable("");return this.clearControl=function(){t(""),n(""),i("")},this.changePassword=function(){return""===t()||""===n()||""===i()?(displayService.display("כל השדות הם שדות חובה!","error"),void 0):t()!==cachingService.get("password")?(displayService.display("הסיסמה הישנה לא נכונה!","error"),void 0):n()!=i()?(displayService.display("הסיסמה החדשה וסיסמת האימות לא זהות!","error"),void 0):($.ajax({type:"POST",url:"./Server/user/changepass.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{authorization:utilities.encode64(login.username+":"+t+":"+n)}}).done(function(e){clearControl(),displayService.display(e)}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)}),void 0)},{oldpw:t,newpw:n,newpw2:i,viewAttached:function(){$.placeholder.fix()},changePassword:changePassword,username:login.username,firstname:login.firstname,lastname:login.lastname,email:login.email}});
define('viewmodels/usersmanager',['require'],function(e){this.app=e("durandal/app"),this.cachingService=e("services/cachingService"),this.utilities=e("services/utilities"),this.displayService=e("services/displayService"),this.enums=e("services/enums"),this.itemList=ko.observableArray();var t=ko.observable(""),n=ko.observable(""),i=ko.observable(""),a=ko.observable(""),r=ko.observable(""),s=ko.observable(""),o=ko.observable(""),l=ko.observable(!1),d=ko.observable(2),c=ko.computed(function(){return l()?"restricted":"user"}),u=function(){$.ajax({type:"GET",url:"./Server/user/get.php?d="+Date.now(),headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))}}).done(function(e){itemList(e)}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})};return this.remove=function(e){confirm("You are about to delete this user. Are you sure?")&&$.ajax({type:"POST",url:"./Server/user/delete.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:{user:e}}).done(function(e){displayService.display(e),u()}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)})},this.clearControl=function(){t(""),n(""),i(""),a(""),r(""),s(""),o("")},this.addItem=function(){var e={newuser:{un:t,pw:n,fn:a,ln:r,em:s,role:c,course:d}};return""===$.trim(t())||""===$.trim(n())||""===$.trim(i())||""===$.trim(a())||""===$.trim(r())||""===$.trim(s())?(displayService.display("כל השדות הם שדות חובה!","error"),void 0):n()!==i()?(displayService.display("הסיסמה וסיסמת האימות לא זהות!","error"),void 0):($.ajax({type:"POST",url:"./Server/user/add.php",headers:{Authorization:utilities.getBase64Auth(cachingService.get("username"),cachingService.get("password"))},data:e}).done(function(e){e.status==enums.Status.OK?(clearControl(),displayService.display(e.msg),u()):displayService.display(e.msg,"error")}).error(function(e){alert(jQuery.parseJSON(e.responseText).error)}),void 0)},{un:t,pw:n,pw2:i,fn:a,ln:r,em:s,ad:o,role:l,course:d,getData:u,compositionComplete:function(){u(),$("table.sortable").shamirSortable(itemList),$.placeholder.fix()},addItem:addItem,itemList:itemList,remove:remove}});
define('text',{load: function(id){throw new Error("Dynamic load not allowed: " + id);}});

define('text!views/exams.html',[],function () { return '<div class="text-right">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="panel panel-blue margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">מבחנים</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction: rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">בחינה בנושא</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: examList">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-primary"></label>\n                            </td>\n                            <td><a target="_blank" data-bind="attr: { \'href\': \'/lessons/Content/files/\' + t }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/examsmanager.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-info">ניהול מבחנים</span></h2>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h4>הוסף מבחן חדש</h4>\n        </div>\n    </div>\n\n    <!--<div class="row margin-bottom-20">\n        <div class="col-md-2">\n            <span style="z-index: 99999; position: absolute; left: 0">\n                <input id="fileToUpload" type="file" name="fileToUpload" data-bind="event: { change: submit }" style="opacity: 0; width: 95px">\n            </span>\n            <span>\n                <button id="uploadBtn" class="btn btn-info fileinput-button pull-left">\n                    <span class="icon-file icon-white"></span>\n                    <span>בחר קובץ</span>\n                </button>\n            </span>\n        </div>\n        <div class="col-md-10">\n            <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n        </div>\n    </div>-->\n\n    <!--******************************************************************-->\n    <div class="col-md-1">\n        <button type="button" class="btn btn-success pull-left" data-bind="click: Send">שמור</button>\n    </div>\n    <div class="col-md-2">\n        <input type="button" id="upload-btn" class="btn btn-primary btn-large clearfix" value="בחר קובץ">\n    </div>\n    <div class="col-md-9">\n        <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n    </div>\n    <div class="content-box">\n        <div class="clear">\n            <div id="errormsg" class="clearfix redtext">\n            </div>\n            <div id="pic-progress-wrap" class="progress-wrap" style="margin-top: 10px; margin-bottom: 10px;">\n            </div>\n\n            <div id="picbox" class="clear" style="padding-top: 0px; padding-bottom: 10px;">\n            </div>\n\n        </div>\n    </div>\n    <!--******************************************************************-->\n    <div class="row margin-bottom-40" style="direction: rtl">\n        <div class="col-md-12">\n            <div class="panel panel-blue margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">מבחנים</h4>\n                </div>\n                <table class="table table-striped table-condensed">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th style="width: 20px;" class="text-right">מחק</th>\n                            <th class="text-right">תיאור</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable" data-bind="foreach: itemList">\n                        <tr data-bind="attr: { \'id\': id }" style="cursor: move">\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-info"></label>\n                            </td>\n                            <td><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td><span data-bind="html: d"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>';});


define('text!views/files.html',[],function () { return '<div class="text-right">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="panel panel-black margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">קבצים</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction: rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">קובץ בנושא</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: fileList">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-inverse"></label>\n                            </td>\n                            <td><a target="_blank" data-fancybox-type="iframe" data-bind="attr: { \'href\': \'/lessons/Content/files/\' + t }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n';});


define('text!views/filesmanager.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-inverse">ניהול קבצים</span></h2>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h4>הוסף קובץ חדש</h4>\n        </div>\n    </div>\n\n    <!--<div class="row margin-bottom-20">\n        <div class="col-md-2">\n            <span style="z-index: 99999; position: absolute; left: 0">\n                <input id="fileToUpload" type="file" name="fileToUpload" data-bind="event: { change: submit }" style="opacity: 0; width: 95px">\n            </span>\n            <span>\n                <button id="uploadBtn" class="btn btn-inverse fileinput-button pull-left">\n                    <span class="icon-file icon-white"></span>\n                    <span>בחר קובץ</span>\n                </button>\n            </span>\n        </div>\n        <div class="col-md-10">\n            <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n        </div>\n    </div>-->\n\n    <!--******************************************************************-->\n    <div class="col-md-1">\n        <button type="button" class="btn btn-success pull-left" data-bind="click: Send">שמור</button>\n    </div>\n    <div class="col-md-2">\n        <input type="button" id="upload-btn" class="btn btn-primary btn-large clearfix" value="בחר קובץ">\n    </div>\n    <div class="col-md-9">\n        <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n    </div>\n    <div class="content-box">\n        <div class="clear">\n            <div id="errormsg" class="clearfix redtext">\n            </div>\n            <div id="pic-progress-wrap" class="progress-wrap" style="margin-top: 10px; margin-bottom: 10px;">\n            </div>\n\n            <div id="picbox" class="clear" style="padding-top: 0px; padding-bottom: 10px;">\n            </div>\n\n        </div>\n    </div>\n    <!--******************************************************************-->\n\n    <div class="row margin-bottom-40" style="direction: rtl">\n        <div class="col-md-12">\n            <div class="panel panel-black margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">קבצים</h4>\n                </div>\n                <table class="table table-striped table-condensed">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th style="width: 20px;" class="text-right">מחק</th>\n                            <th class="text-right">תיאור</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable" data-bind="foreach: itemList">\n                        <tr data-bind="attr: { \'id\': id }" style="cursor: move">\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-inverse"></label>\n                            </td>\n                            <td><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td><span data-bind="html: d"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/forum.html',[],function () { return '<div style="direction: rtl"><iframe src="./phpBB3/index.php" height="750" width="100%" frameborder="0"></iframe></div>';});


define('text!views/home.html',[],function () { return '<div class="text-right">\n    <h1>ברוכים הבאים לקורס חובבי רדיו מתוקשב</h1>\n    <div class="pull-right">\n        <!--<div class="pull-right">\n            <div class="span5">\n                <h3><i class="icon icon-ok"></i>&nbsp;שיעורים</h3>\n                <a href="#lessons"><h4>כאן תוכלו למצוא את כל החומר מחולק לשיעורים</h4></a>\n            </div>\n        </div>\n        <div style="clear: both"></div>-->\n        <div class="pull-right">\n            <div class="span5">\n                <h3><i class="icon icon-facetime-video"></i>&nbsp;שיעורים</h3>\n                <a href="#lessons"><h4>כאן תוכלו למצוא את כל השיעורים</h4></a>\n            </div>\n        </div>\n        <div style="clear: both"></div>\n        <div class="pull-right">\n            <div class="span5">\n                <h3><i class="icon icon-film"></i>&nbsp;מצגות</h3>\n                <a href="#presentations"><h4>כאן תוכלו למצוא מצגות בנושאים שונים </h4></a>\n            </div>\n        </div>\n        <div style="clear: both"></div>\n        <div class="pull-right" data-bind="visible: role() != \'restricted\'">\n            <div class="span5">\n                <h3><i class="icon icon-pencil"></i>&nbsp;מבחנים</h3>\n                <a href="#exams"><h4>כאן תוכלו למצוא שאלות ממבחנים </h4></a>\n            </div>\n        </div>\n    </div>\n    <div class="pull-right">\n        \n        <div class="pull-right">\n            <div class="span5">\n                <h3><i class="icon icon-share"></i>&nbsp;קישורים</h3>\n                <a href="#links"><h4>כאן תוכלו למצוא קישורים לאתרים בתחום</h4></a>\n            </div>\n        </div>\n        <div style="clear: both"></div>\n        <div class="pull-right">\n            <div class="span5">\n                <h3><i class="icon icon-file"></i>&nbsp;קבצים</h3>\n                <a href="#files"><h4>כאן תוכלו למצוא קבצים להורדה</h4></a>\n            </div>\n        </div>\n        <div style="clear: both"></div>\n        <div class="pull-right" data-bind="visible: role() != \'restricted\'">\n            <div class="span5">\n                <h3><i class="icon icon-user"></i>&nbsp;פורום</h3>\n                <a href="#forum"><h4>כאן תוכלו לשאול שאלות ולהתעדכן בהודעות</h4></a>\n            </div>\n        </div>\n        \n    </div>\n\n    <div style="clear: both"></div>\n    <div style="margin-top: 20px; margin-left: 100px; margin-right: auto">\n        <img data-bind="attr: { src: Image }" alt="" width="700px" style="width:700px;"/>\n    </div>\n</div>\n';});


define('text!views/lessons.html',[],function () { return '<div class="text-right">\n    <!--<i id="loadingImage" class="icon-spinner icon-2x icon-spin pull-right centered"></i>-->\n    <div class="row" data-bind="visible: (course() == \'2\' || isadmin())">\n        <!--<div class="col-md-6">\n            <div class="panel panel-red margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">טכני</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction: rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">נושא השיעור</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: lessonList2">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-danger"></label>\n                            </td>\n                            <td><a target="_blank" data-bind="attr: { \'href\': \'/lessons/Content/files/\' + t }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>-->\n        <div class="col-md-12">\n            <div class="panel panel-red margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">קורס נהלים וטכני לדרגה ב-ד</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction: rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">נושא השיעור</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: lessonList">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-danger"></label>\n                            </td>\n                            <td><a target="_blank" data-bind="attr: { \'href\': \'/lessons/Content/files/\' + t }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="row" data-bind="visible: (course() == \'1\' || isadmin())">\n        <div class="col-md-12">\n            <div class="panel panel-red margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">דרגה א</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction: rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">נושא השיעור</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: lessonList3">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-danger"></label>\n                            </td>\n                            <td><a target="_blank" data-bind="attr: { \'href\': \'/lessons/Content/files/\' + t }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n\n';});


define('text!views/lessonsmanager.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-danger">ניהול שיעורים</span></h2>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h4>הוסף שיעור חדש</h4>\n        </div>\n    </div>\n\n    <!--<div class="row margin-bottom-20">\n        <div class="col-md-2">\n            <span style="z-index: 99999; position: absolute; left: 0">\n                <input id="fileToUpload" type="file" name="fileToUpload" data-bind="event: { change: submit }" style="opacity: 0; width: 95px">\n            </span>\n            <span>\n                <button id="uploadBtn" class="btn btn-danger fileinput-button pull-left">\n                    <span class="icon-file icon-white"></span>\n                    <span>בחר קובץ</span>\n                </button>\n            </span>\n        </div>\n        <div class="col-md-4">\n            <label class="radio-inline">\n                דרגה ב-ד<input type="radio" value="0" name="section" data-bind="checked: section" />\n            </label>\n            <label class="radio-inline">\n                דרגה א<input type="radio" value="2" name="section" data-bind="checked: section" />\n            </label>\n        </div>\n        <div class="col-md-6">\n            <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n        </div>\n    </div>-->\n    <!--******************************************************************-->\n    <div class="row margin-bottom-10">\n        <div class="col-md-12 text-right">\n            <label class="radio-inline">\n                דרגה ב-ד<input type="radio" value="0" name="section" data-bind="checked: section" />\n            </label>\n            <label class="radio-inline">\n                דרגה א<input type="radio" value="2" name="section" data-bind="checked: section" />\n            </label>\n        </div>\n    </div>\n    <div class="row margin-bottom-10">\n        <div class="col-md-1">\n            <button type="button" class="btn btn-success pull-left" data-bind="click: Send">שמור</button>\n        </div>\n        <div class="col-md-2">\n            <input type="button" id="upload-btn" class="btn btn-primary btn-large clearfix" value="בחר קובץ">\n        </div>\n        <div class="col-md-9">\n            <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n        </div>\n        <div class="content-box">\n            <div class="clear">\n                <div id="errormsg" class="clearfix redtext">\n                </div>\n                <div id="pic-progress-wrap" class="progress-wrap" style="margin-top: 10px; margin-bottom: 10px;">\n                </div>\n\n                <div id="picbox" class="clear" style="padding-top: 0px; padding-bottom: 10px;">\n                </div>\n\n            </div>\n        </div>\n    </div>\n    <!--******************************************************************-->\n    <div class="row margin-bottom-40" style="direction: rtl">\n        <div class="col-md-6">\n            <div class="panel panel-red margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">דרגה א</h4>\n                </div>\n                <table class="table table-striped table-condensed">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th style="width: 20px;" class="text-right">מחק</th>\n                            <th class="text-right">תיאור</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable3" data-bind="foreach: itemList3">\n                        <tr data-bind="attr: { \'id\': id }" style="cursor: move">\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-danger"></label>\n                            </td>\n                            <td><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td><span data-bind="html: d"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div class="col-md-6">\n            <div class="panel panel-red margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">דרגה ב-ד: נוהל + טכני</h4>\n                </div>\n                <table class="table table-striped table-condensed">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th style="width: 20px;" class="text-right">מחק</th>\n                            <th class="text-right">תיאור</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable2" data-bind="foreach: itemList">\n                        <tr data-bind="attr: { \'id\': id }" style="cursor: move">\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-danger"></label>\n                            </td>\n                            <td><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td><span data-bind="html: d"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/links.html',[],function () { return '<div class="text-right">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="panel panel-green margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">קישורים חיצוניים</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction: rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">קישור ל</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: linkList">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-success"></label>\n                            </td>\n                            <td><a target="_blank" data-fancybox-type="iframe" data-bind="attr: { \'href\': t }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n\n';});


define('text!views/linksmanager.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-success">ניהול קישורים</span></h2>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h4>הוסף קישור חדש</h4>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-20">\n        <div class="col-md-2">\n            <a data-bind="click: addItem" class="btn btn-success"><span class="glyphicon glyphicon-hdd"></span>שמור</a>\n        </div>\n        <div class="col-md-5">\n            <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n        </div>\n        <div class="col-md-5">\n            <input class="form-control text-right" placeholder="כתובת" name="target" type="text" data-bind="value: target">\n        </div>\n    </div>\n\n    <div class="row margin-bottom-40" style="direction: rtl">\n        <div class="col-md-12">\n            <div class="panel panel-green margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">קישורים</h4>\n                </div>\n                <table class="table table-striped table-condensed">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th style="width: 20px;" class="text-right">מחק</th>\n                            <th class="text-right">תיאור</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable" data-bind="foreach: itemList">\n                        <tr data-bind="attr: { \'id\': id }" style="cursor: move">\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-success"></label>\n                            </td>\n                            <td><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td><span data-bind="html: d"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/login.html',[],function () { return '<div class="row" style="direction: rtl">\n    <div class="col-md-4 col-md-offset-4">\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                <h4>שלום, נא הכנס שם וסיסמה</h4>\n            </div>\n            <div class="panel-body">\n                <form accept-charset="UTF-8" role="form">\n                    <fieldset>\n                        <div class="form-group">\n                            <input class="form-control" placeholder="שם משתמש" name="username" type="text" data-bind="value: username">\n                        </div>\n                        <div class="form-group">\n                            <input class="form-control" placeholder="סיסמה" name="password" type="password" data-bind="value: password">\n                        </div>\n                        <input class="btn btn-lg btn-success btn-block" type="submit" value="הכנס" data-bind="click: login">\n                    </fieldset>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/presentations.html',[],function () { return '<div class="text-right">\n    <div class="row">\n        <div class="col-md-12">\n            <div class="panel panel-orange margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">מצגות</h4>\n                </div>\n                <table class="table table-striped table-condensed" style="direction:rtl">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th class="text-right">נושא המצגת</th>\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: presentationList">\n                        <tr>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-warning"></label>\n                            </td>\n                            <td><a class="fancy" data-fancybox-type="iframe" data-bind="attr: { \'href\': t, \'title\': d }" style="text-decoration: none; cursor: pointer"><span data-bind="    html: d"></span></a></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/presentationsmanager.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-warning">ניהול מצגות</span></h2>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h4>הוסף מצגת חדשה</h4>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-20">\n        <div class="col-md-2">\n            <a data-bind="click: addItem" class="btn btn-warning"><span class="glyphicon glyphicon-hdd"></span>שמור</a>\n        </div>\n        <div class="col-md-5">\n            <input class="form-control text-right" placeholder="תיאור" name="description" type="text" data-bind="value: desc">\n        </div>\n        <div class="col-md-5">\n            <input class="form-control text-right" placeholder="כתובת" name="target" type="text" data-bind="value: target">\n        </div>\n    </div>\n\n    <div class="row margin-bottom-40" style="direction: rtl">\n        <div class="col-md-12">\n            <div class="panel panel-orange margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">מצגות</h4>\n                </div>\n                <table class="table table-striped table-condensed">\n                    <thead>\n                        <tr>\n                            <th style="width: 20px;">&nbsp</th>\n                            <th style="width: 20px;" class="text-right">מחק</th>\n                            <th class="text-right">תיאור</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable" data-bind="foreach: itemList">\n                        <tr data-bind="attr: { \'id\': id }" style="cursor: move">\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge badge-warning"></label>\n                            </td>\n                            <td><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td><span data-bind="html: d"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n';});


define('text!views/shell.html',[],function () { return '<nav class="navbar navbar-default navbar-fixed-top" role="navigation">\n    <div class="navbar-header">\n        <a target="_blank" data-bind="attr: { href: \'http://www.iarc.org/iarc/he/\' }">\n            <img data-bind="attr: { src: Image }" alt="" alt="iarc" width="48px" height="48px" style="width: 48px; height: 48px;" />\n        </a>\n    </div>\n    <div class="collapse navbar-collapse">\n        <ul class="nav navbar-nav">\n            <li class="dropdown">\n                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span data-bind="text: (isLoggedIn()) ? fullName() : \'ברוכים הבאים\'"></span><b class="caret"></b></a>\n                <ul class="dropdown-menu text-right">\n                    <li><a href="#userdetails" data-bind="visible: isLoggedIn()">פרטי משתמש&nbsp;&nbsp;<i class="icon-cog"></i></a></li>\n                    <li class="divider" data-bind="visible: isLoggedIn()"></li>\n                    <li class="padding-5">צריכת אנרגיה</li>\n                    <li><a data-bind="click: function () { setTheme(\'dark\'); }">QRP&nbsp;&nbsp;<i class="icon-globe"></i></a></li>\n                    <li><a data-bind="click: function () { setTheme(\'original\'); }">QRO&nbsp;&nbsp;<i class="icon-certificate"></i></a></li>\n                    <li class="divider"></li>\n                    <li><a data-bind="click: logout"><span data-bind="    text: (isLoggedIn()) ? \'התנתק\' : \'התחבר\'"></span>&nbsp;&nbsp;<i class="icon-off"></i></a></li>\n                </ul>\n            </li>\n            <li class="dropdown" data-bind="visible: isAdmin() ">\n                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span data-bind="text: \'תפריט ניהול\'"></span><b class="caret"></b></a>\n                <ul class="dropdown-menu text-right">\n                    <li><a href="#lessonsmanager">ניהול שיעורים&nbsp;&nbsp;<i class="icon-facetime-video"></i></a></li>\n                    <li><a href="#presentationsmanager">ניהול מצגות&nbsp;&nbsp;<i class="icon-film"></i></a></li>\n                    <li><a href="#examsmanager">ניהול מבחנים&nbsp;&nbsp;<i class="icon-pencil"></i></a></li>\n                    <li><a href="#linksmanager">ניהול קישורים&nbsp;&nbsp;<i class="icon-share"></i></a></li>\n                    <li><a href="#filesmanager">ניהול קבצים&nbsp;&nbsp;<i class="icon-file"></i></a></li>\n                    <li><a href="#usersmanager">ניהול משתמשים&nbsp;&nbsp;<i class="icon-user"></i></a></li>\n                    <li><a href="#usersmanager">ניהול מתעניינים&nbsp;&nbsp;<i class="icon-user-md"></i></a></li>\n                </ul>\n            </li>\n        </ul>\n        <ul class="nav navbar-nav pull-right">\n            <li class="pull-right"><a data-bind="attr: { href: \'#home\' }">\n                <span>&nbsp;</span>\n                <span title="קורס רדיו מתוקשב">קורס רדיו מתוקשב</span>\n                <i class="icon-signal"></i>\n            </a></li>\n        </ul>\n        <ul class="nav navbar-nav pull-right" data-bind="foreach: router.navigationModel, visible: isLoggedIn">\n            <li data-bind="css: { active: isActive }, visible: !(restricted && $parent.role() == \'restricted\')">\n                <a data-bind="    attr: { href: hash }, html: title"></a>\n            </li>\n        </ul>\n        \n    </div>\n</nav>\n<div class="container-fluid page-host" data-bind="router: { transition: \'entrance\', cacheViews: true }"></div>\n';});


define('text!views/userdetails.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-user">פרטי משתמש</span></h2>\n        </div>\n    </div>\n\n     <div class="row margin-bottom-20">\n         <div class="col-md-12">\n             <div class="panel panel-user text-right">\n                 <div class="panel-heading">\n                     <h4 class="panel-title text-right">פרטי משתמש</h4>\n                 </div>\n                 <table class="table table-striped table-condensed">\n                     <thead>\n                         <tr>\n                             <th style="text-align:right">שם משתמש</th>\n                             <th style="text-align:right">שם פרטי</th>\n                             <th style="text-align:right">שם משפחה</th>\n                             <th style="text-align:right">כתובת מייל</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n                         <tr>\n                             <td><span data-bind="html: username"></span></td>\n                             <td><span data-bind="html: firstname"></span></td>\n                             <td><span data-bind="html: lastname"></span></td>\n                             <td><span data-bind="html: email"></span></td>\n                         </tr>\n                     </tbody>\n                 </table>\n             </div>\n         </div>\n     </div>\n\n    <div class="row margin-bottom-20">\n        <div class="col-md-6 pull-right">\n            <input class="form-control text-right" data-bind="value: oldpw" placeholder="סיסמה ישנה" type="text" />\n            <div style="clear: both; height: 10px"></div>\n            <input class="form-control text-right" data-bind="value: newpw" placeholder="סיסמה חדשה" type="text" />\n            <div style="clear: both; height: 10px"></div>\n            <input class="form-control text-right" data-bind="value: newpw2" placeholder="אימות סיסמה חדשה" type="text" />\n            <div style="clear: both; height: 10px"></div>\n            <a data-bind="click: changePassword" class="btn btn-user"><span class="glyphicon glyphicon-hdd"></span> שמור</a>\n        </div>\n    </div>\n</div>';});


define('text!views/usersmanager.html',[],function () { return '<div class="text-right" style="direction: rtl">\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h2><span class="label label-user">ניהול משתמשים</span></h2>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-12">\n            <h4>הוסף משתמש חדש</h4>\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10">\n        <div class="col-md-3">\n            <a data-bind="click: clearControl" class="btn btn-user"><span class="glyphicon glyphicon-refresh"></span> נקה</a>\n        </div>\n        <div class="col-md-3">\n            <input class="form-control text-right" data-bind="value: pw2" placeholder="אימות סיסמה" type="password" tabindex="3" />\n        </div>\n        <div class="col-md-3">\n            <input class="form-control text-right" data-bind="value: pw" placeholder="סיסמה" type="password" tabindex="2" />\n        </div>\n        <div class="col-md-3">\n            <input class="form-control text-right" data-bind="value: un" placeholder="שם משתמש" type="text" tabindex="1" />\n        </div>\n    </div>\n\n    <div class="row margin-bottom-10" style="direction: rtl">\n        <div class="col-md-3">\n            <a data-bind="click: addItem" class="btn btn-user"><span class="glyphicon glyphicon-hdd"></span> שמור</a>\n        </div>\n        <div class="col-md-3">\n            <input class="form-control text-right" data-bind="value: em" placeholder="כתובת מייל" type="text" tabindex="6" />\n        </div>\n        <div class="col-md-3">\n            <input class="form-control text-right" data-bind="value: ln" placeholder="שם משפחה" type="text" tabindex="5" />\n        </div>\n        <div class="col-md-3">\n            <input class="form-control text-right" data-bind="value: fn" placeholder="שם פרטי" type="text" tabindex="4" />\n        </div>\n    </div>\n\n    \n    <div class="row margin-bottom-10">    \n        <div class="col-md-3 pull-right">\n            <label class="control-label">קורס:</label>\n            <label class="radio-inline" style="margin: 0 15px 0 30px">\n                <input data-bind="checked: course" type="radio" name="course" value="1" />א\n            </label>\n            <label class="radio-inline">\n                <input data-bind="checked: course" type="radio" name="course" value="2" />ב-ד\n            </label>\n        </div>\n        <div class="col-md-2 pull-right">\n            <label class="checkbox-inline">\n                <input data-bind="value: role" type="checkbox" />משתמש מוגבל\n            </label>\n        </div>\n    </div>\n\n\n    <div class="row margin-bottom-40">\n        <div class="col-md-12">\n            <div class="panel panel-user margin-bottom-40 text-right">\n                <div class="panel-heading">\n                    <h4 class="panel-title text-right">רשימת משתמשים</h4>\n                </div>\n                <table class="table table-striped table-condensed sortable">\n                    <thead>\n                        <tr>\n                            <th class="text-right" data-unsortable>מחק</th>\n                            <th class="text-right" data-unsortable>&nbsp;</th>\n                            <th class="text-right" data-source="username">שם משתמש</th>\n                            <th class="text-right" data-source="firstname">שם פרטי</th>\n                            <th class="text-right" data-source="lastname">שם משפחה</th>\n                            <th class="text-right" data-source="email">כתובת מייל</th>\n                            <th class="text-right" data-source="lastlogin">חיבור אחרון</th>\n                            <th class="text-right" data-source="course">קורס</th>\n                        </tr>\n                    </thead>\n                    <tbody class="sortable1" data-bind="foreach: itemList">\n                        <tr>\n                            <td ><a style="text-decoration: none; cursor: pointer" class="icon-trash" data-bind="click: remove"></a></td>\n                            <td>\n                                <label data-bind="text: ($index() + 1)" class="badge label-user"></label>\n                            </td>\n                            <td><span data-bind="html: username"></span></td>\n                            <td><span data-bind="html: firstname"></span></td>\n                            <td><span data-bind="html: lastname"></span></td>\n                            <td><span data-bind="html: email"></span></td>\n                            <td><span data-bind="html: lastlogin"></span></td>\n                            <td><span data-bind="html: (course == \'2\')?\'ב-ד\':\'א\'"></span></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>';});

define('plugins/dialog',["durandal/system","durandal/app","durandal/composition","durandal/activator","durandal/viewEngine","jquery","knockout"],function(e,t,n,i,a,r,o){function s(t){return e.defer(function(n){e.isString(t)?e.acquire(t).then(function(t){n.resolve(e.resolveObject(t))}).fail(function(n){e.error("Failed to load dialog module ("+t+"). Details: "+n.message)}):n.resolve(t)}).promise()}var l,c={},d=0,u=function(e,t,n){this.message=e,this.title=t||u.defaultTitle,this.options=n||u.defaultOptions};return u.prototype.selectOption=function(e){l.close(this,e)},u.prototype.getView=function(){return a.processMarkup(u.defaultViewMarkup)},u.setViewUrl=function(e){delete u.prototype.getView,u.prototype.viewUrl=e},u.defaultTitle=t.title||"Application",u.defaultOptions=["Ok"],u.defaultViewMarkup=['<div data-view="plugins/messageBox" class="messageBox">','<div class="modal-header">','<h3 data-bind="text: title"></h3>',"</div>",'<div class="modal-body">','<p class="message" data-bind="text: message"></p>',"</div>",'<div class="modal-footer" data-bind="foreach: options">','<button class="btn" data-bind="click: function () { $parent.selectOption($data); }, text: $data, css: { \'btn-primary\': $index() == 0, autofocus: $index() == 0 }"></button>',"</div>","</div>"].join("\n"),l={MessageBox:u,currentZIndex:1050,getNextZIndex:function(){return++this.currentZIndex},isOpen:function(){return d>0},getContext:function(e){return c[e||"default"]},addContext:function(e,t){t.name=e,c[e]=t;var n="show"+e.substr(0,1).toUpperCase()+e.substr(1);this[n]=function(t,n){return this.show(t,n,e)}},createCompositionSettings:function(e,t){var n={model:e,activate:!1,transition:!1};return t.attached&&(n.attached=t.attached),t.compositionComplete&&(n.compositionComplete=t.compositionComplete),n},getDialog:function(e){return e?e.__dialog__:void 0},close:function(e){var t=this.getDialog(e);if(t){var n=Array.prototype.slice.call(arguments,1);t.close.apply(t,n)}},show:function(t,a,r){var o=this,l=c[r||"default"];return e.defer(function(e){s(t).then(function(t){var r=i.create();r.activateItem(t,a).then(function(i){if(i){var a=t.__dialog__={owner:t,context:l,activator:r,close:function(){var n=arguments;r.deactivateItem(t,!0).then(function(i){i&&(d--,l.removeHost(a),delete t.__dialog__,0===n.length?e.resolve():1===n.length?e.resolve(n[0]):e.resolve.apply(e,n))})}};a.settings=o.createCompositionSettings(t,l),l.addHost(a),d++,n.compose(a.host,a.settings)}else e.resolve(!1)})})}).promise()},showMessage:function(t,n,i){return e.isString(this.MessageBox)?l.show(this.MessageBox,[t,n||u.defaultTitle,i||u.defaultOptions]):l.show(new this.MessageBox(t,n,i))},install:function(e){t.showDialog=function(e,t,n){return l.show(e,t,n)},t.showMessage=function(e,t,n){return l.showMessage(e,t,n)},e.messageBox&&(l.MessageBox=e.messageBox),e.messageBoxView&&(l.MessageBox.prototype.getView=function(){return e.messageBoxView})}},l.addContext("default",{blockoutOpacity:.2,removeDelay:200,addHost:function(e){var t=r("body"),n=r('<div class="modalBlockout"></div>').css({"z-index":l.getNextZIndex(),opacity:this.blockoutOpacity}).appendTo(t),i=r('<div class="modalHost"></div>').css({"z-index":l.getNextZIndex()}).appendTo(t);if(e.host=i.get(0),e.blockout=n.get(0),!l.isOpen()){e.oldBodyMarginRight=t.css("margin-right"),e.oldInlineMarginRight=t.get(0).style.marginRight;var a=r("html"),o=t.outerWidth(!0),s=a.scrollTop();r("html").css("overflow-y","hidden");var c=r("body").outerWidth(!0);t.css("margin-right",c-o+parseInt(e.oldBodyMarginRight,10)+"px"),a.scrollTop(s)}},removeHost:function(e){if(r(e.host).css("opacity",0),r(e.blockout).css("opacity",0),setTimeout(function(){o.removeNode(e.host),o.removeNode(e.blockout)},this.removeDelay),!l.isOpen()){var t=r("html"),n=t.scrollTop();t.css("overflow-y","").scrollTop(n),e.oldInlineMarginRight?r("body").css("margin-right",e.oldBodyMarginRight):r("body").css("margin-right","")}},attached:function(e){r(e).css("visibility","hidden")},compositionComplete:function(e,t,n){var i=l.getDialog(n.model),a=r(e),o=a.find("img").filter(function(){var e=r(this);return!(this.style.width&&this.style.height||e.attr("width")&&e.attr("height"))});a.data("predefinedWidth",a.get(0).style.width);var s=function(){setTimeout(function(){a.data("predefinedWidth")||a.css({width:""});var e=a.outerWidth(!1),t=a.outerHeight(!1),n=r(window).height(),o=Math.min(t,n);a.css({"margin-top":(-o/2).toString()+"px","margin-left":(-e/2).toString()+"px"}),a.data("predefinedWidth")||a.outerWidth(e),t>n?a.css("overflow-y","auto"):a.css("overflow-y",""),r(i.host).css("opacity",1),a.css("visibility","visible"),a.find(".autofocus").first().focus()},1)};s(),o.load(s),a.hasClass("autoclose")&&r(i.blockout).click(function(){i.close()})}}),l});
define('plugins/http',["jquery","knockout"],function(e,t){return{callbackParam:"callback",get:function(t,n){return e.ajax(t,{data:n})},jsonp:function(t,n,i){return-1==t.indexOf("=?")&&(i=i||this.callbackParam,t+=-1==t.indexOf("?")?"?":"&",t+=i+"=?"),e.ajax({url:t,dataType:"jsonp",data:n})},post:function(n,i){return e.ajax({url:n,data:t.toJSON(i),type:"POST",contentType:"application/json",dataType:"json"})}}});
define('plugins/observable',["durandal/system","durandal/binder","knockout"],function(e,t,n){function i(e){var t=e[0];return"_"===t||"$"===t}function a(t){return!(!t||void 0===t.nodeType||!e.isNumber(t.nodeType))}function r(e){if(!e||a(e)||e.ko===n||e.jquery)return!1;var t=p.call(e);return-1==v.indexOf(t)&&!(e===!0||e===!1)}function o(e,t){var n=e.__observable__,i=!0;if(!n||!n.__full__){n=n||(e.__observable__={}),n.__full__=!0,h.forEach(function(n){e[n]=function(){i=!1;var e=b[n].apply(t,arguments);return i=!0,e}}),g.forEach(function(n){e[n]=function(){i&&t.valueWillMutate();var a=m[n].apply(e,arguments);return i&&t.valueHasMutated(),a}}),f.forEach(function(n){e[n]=function(){for(var a=0,r=arguments.length;r>a;a++)s(arguments[a]);i&&t.valueWillMutate();var o=m[n].apply(e,arguments);return i&&t.valueHasMutated(),o}}),e.splice=function(){for(var n=2,a=arguments.length;a>n;n++)s(arguments[n]);i&&t.valueWillMutate();var r=m.splice.apply(e,arguments);return i&&t.valueHasMutated(),r};for(var a=0,r=e.length;r>a;a++)s(e[a])}}function s(t){var a,s;if(r(t)&&(a=t.__observable__,!a||!a.__full__)){if(a=a||(t.__observable__={}),a.__full__=!0,e.isArray(t)){var l=n.observableArray(t);o(t,l)}else for(var d in t)i(d)||a[d]||(s=t[d],e.isFunction(s)||c(t,d,s));y&&e.log("Converted",t)}}function l(e,t,n){var i;e(t),i=e.peek(),n?i?i.destroyAll||o(i,e):(i=[],e(i),o(i,e)):s(i)}function c(t,i,a){var r,c,d=t.__observable__||(t.__observable__={});if(void 0===a&&(a=t[i]),e.isArray(a))r=n.observableArray(a),o(a,r),c=!0;else if("function"==typeof a){if(!n.isObservable(a))return null;r=a}else e.isPromise(a)?(r=n.observable(),a.then(function(t){if(e.isArray(t)){var i=n.observableArray(t);o(t,i),t=i}r(t)})):(r=n.observable(a),s(a));return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:r,set:n.isWriteableObservable(r)?function(t){t&&e.isPromise(t)?t.then(function(t){l(r,t,e.isArray(t))}):l(r,t,c)}:void 0}),d[i]=r,r}function d(t,i,a){var r,o={owner:t,deferEvaluation:!0};return"function"==typeof a?o.read=a:("value"in a&&e.error('For defineProperty, you must not specify a "value" for the property. You must provide a "get" function.'),"function"!=typeof a.get&&e.error('For defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".'),o.read=a.get,o.write=a.set),r=n.computed(o),t[i]=r,c(t,i,r)}var u,p=Object.prototype.toString,v=["[object Function]","[object String]","[object Boolean]","[object Number]","[object Date]","[object RegExp]"],h=["remove","removeAll","destroy","destroyAll","replace"],g=["pop","reverse","sort","shift","splice"],f=["push","unshift"],m=Array.prototype,b=n.observableArray.fn,y=!1;return u=function(e,t){var i,a,r;return e?(i=e.__observable__,i&&(a=i[t])?a:(r=e[t],n.isObservable(r)?r:c(e,t,r))):null},u.defineProperty=d,u.convertProperty=c,u.convertObject=s,u.install=function(e){var n=t.binding;t.binding=function(e,t,i){i.applyBindings&&!i.skipConversion&&s(e),n(e,t)},y=e.logConversion},u});
define('plugins/serializer',["durandal/system"],function(e){return{typeAttribute:"type",space:void 0,replacer:function(e,t){if(e){var n=e[0];if("_"===n||"$"===n)return void 0}return t},serialize:function(t,n){return n=void 0===n?{}:n,(e.isString(n)||e.isNumber(n))&&(n={space:n}),JSON.stringify(t,n.replacer||this.replacer,n.space||this.space)},getTypeId:function(e){return e?e[this.typeAttribute]:void 0},typeMap:{},registerType:function(){var t=arguments[0];if(1==arguments.length){var n=t[this.typeAttribute]||e.getModuleId(t);this.typeMap[n]=t}else this.typeMap[t]=arguments[1]},reviver:function(e,t,n,i){var r=n(t);if(r){var a=i(r);if(a)return a.fromJSON?a.fromJSON(t):new a(t)}return t},deserialize:function(e,t){var n=this;t=t||{};var i=t.getTypeId||function(e){return n.getTypeId(e)},r=t.getConstructor||function(e){return n.typeMap[e]},a=t.reviver||function(e,t){return n.reviver(e,t,i,r)};return JSON.parse(e,a)}}});
define('plugins/widget',["durandal/system","durandal/composition","jquery","knockout"],function(e,t,n,i){function r(e,n){var r=i.utils.domData.get(e,l);r||(r={parts:t.cloneNodes(i.virtualElements.childNodes(e))},i.virtualElements.emptyNode(e),i.utils.domData.set(e,l,r)),n.parts=r.parts}var a={},o={},s=["model","view","kind"],l="durandal-widget-data",c={getSettings:function(t){var n=i.utils.unwrapObservable(t())||{};if(e.isString(n))return{kind:n};for(var r in n)n[r]=-1!=i.utils.arrayIndexOf(s,r)?i.utils.unwrapObservable(n[r]):n[r];return n},registerKind:function(e){i.bindingHandlers[e]={init:function(){return{controlsDescendantBindings:!0}},update:function(t,n,i,a,o){var s=c.getSettings(n);s.kind=e,r(t,s),c.create(t,s,o,!0)}},i.virtualElements.allowedBindings[e]=!0,t.composeBindings.push(e+":")},mapKind:function(e,t,n){t&&(o[e]=t),n&&(a[e]=n)},mapKindToModuleId:function(e){return a[e]||c.convertKindToModulePath(e)},convertKindToModulePath:function(e){return"widgets/"+e+"/viewmodel"},mapKindToViewId:function(e){return o[e]||c.convertKindToViewPath(e)},convertKindToViewPath:function(e){return"widgets/"+e+"/view"},createCompositionSettings:function(e,t){return t.model||(t.model=this.mapKindToModuleId(t.kind)),t.view||(t.view=this.mapKindToViewId(t.kind)),t.preserveContext=!0,t.activate=!0,t.activationData=t,t.mode="templated",t},create:function(e,n,i,r){r||(n=c.getSettings(function(){return n},e));var a=c.createCompositionSettings(e,n);t.compose(e,a,i)},install:function(e){if(e.bindingName=e.bindingName||"widget",e.kinds)for(var n=e.kinds,a=0;a<n.length;a++)c.registerKind(n[a]);i.bindingHandlers[e.bindingName]={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,i,a){var o=c.getSettings(t);r(e,o),c.create(e,o,a,!0)}},t.composeBindings.push(e.bindingName+":"),i.virtualElements.allowedBindings[e.bindingName]=!0}};return c});
define('transitions/entrance',["durandal/system","durandal/composition","jquery"],function(e,t,n){var i=100,r={marginRight:0,marginLeft:0,opacity:1},a={marginLeft:"",marginRight:"",opacity:"",display:""},o=function(t){return e.defer(function(e){function o(){e.resolve()}function s(){t.keepScrollPosition||n(document).scrollTop(0)}function l(){s(),t.triggerAttach();var e={marginLeft:d?"0":"20px",marginRight:d?"0":"-20px",opacity:0,display:"block"},i=n(t.child);i.css(e),i.animate(r,{duration:c,easing:"swing",always:function(){i.css(a),o()}})}if(t.child){var c=t.duration||500,d=!!t.fadeOnly;t.activeView?n(t.activeView).fadeOut({duration:i,always:l}):l()}else n(t.activeView).fadeOut(i,o)}).promise()};return o});

require(["main"]);
}());